<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>linux笔记 | yysog's blog</title>
<meta name=keywords content="linux"><meta name=description content='linux笔记
Linux 教程 | 菜鸟教程 (runoob.com)
1. 字符/图形界面
1. 字符/图形界面的切换
计算机启动后默认进入图形界面登陆，若在进入字符界面，在图形登录界面使用Ctrl+Alt+F3;
若需从字符界面返回图形界面，使用Ctrl+Alt+F1
2. 查看/修改默认登陆界面


查看默认登陆界面：systemctl get-default


修改默认登陆界面：sudo systemctl set-default [登陆状态]
登陆状态：

graphical.target 表示图形界面
multi-user.target 表示字符界面



3. 字符界面关闭和重启(需要root权限)
1. shutdown


命令格式：shutdown [选项] [时间] [警告信息]
最常用： $ sudo shutdown(一分钟后关机)

  
      
          选项
          选项含义
      
  
  
      
          -k
          并不会关机，只发出警告信息给所有用户
      
      
          -r
          重新启动系统
      
      
          -h
          关闭系统
      
      
          -c
          取消运行shutdown
      
  

例：

发出关机警告信息，并不会关机：$sudo shutdown -k
立即关机：$sudo shutdown –h now
45分钟后关闭计算机：$sudo shutdown –h +45
重启计算机并发出警告：$sudo shutdown –r now "system will be reboot now."
定时在1点38分重启计算机：$sudo shutdown –r 01:38



2. halt


命令格式：halt [选项]'><meta name=author content="Me"><link rel=canonical href=http://yysog.com/posts/linux%E7%AC%94%E8%AE%B0/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.896e450acd3c33140fc426ca0349495f05a3c94611298244cbd6b10253ce22a2.css integrity="sha256-iW5FCs08MxQPxCbKA0lJXwWjyUYRKYJEy9axAlPOIqI=" rel="preload stylesheet" as=style><link rel=icon href=http://yysog.com/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://yysog.com/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://yysog.com/favicon/favicon-32x32.png><link rel=apple-touch-icon href=http://yysog.com/favicon/apple-touch-icon.png><link rel=mask-icon href=http://yysog.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=http://yysog.com/posts/linux%E7%AC%94%E8%AE%B0/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://npm.elemecdn.com/lxgw-wenkai-screen-webfont@1.7.0/style.css media=print onload='this.media="all"'><meta property="og:title" content="linux笔记"><meta property="og:description" content='linux笔记
Linux 教程 | 菜鸟教程 (runoob.com)
1. 字符/图形界面
1. 字符/图形界面的切换
计算机启动后默认进入图形界面登陆，若在进入字符界面，在图形登录界面使用Ctrl+Alt+F3;
若需从字符界面返回图形界面，使用Ctrl+Alt+F1
2. 查看/修改默认登陆界面


查看默认登陆界面：systemctl get-default


修改默认登陆界面：sudo systemctl set-default [登陆状态]
登陆状态：

graphical.target 表示图形界面
multi-user.target 表示字符界面



3. 字符界面关闭和重启(需要root权限)
1. shutdown


命令格式：shutdown [选项] [时间] [警告信息]
最常用： $ sudo shutdown(一分钟后关机)

  
      
          选项
          选项含义
      
  
  
      
          -k
          并不会关机，只发出警告信息给所有用户
      
      
          -r
          重新启动系统
      
      
          -h
          关闭系统
      
      
          -c
          取消运行shutdown
      
  

例：

发出关机警告信息，并不会关机：$sudo shutdown -k
立即关机：$sudo shutdown –h now
45分钟后关闭计算机：$sudo shutdown –h +45
重启计算机并发出警告：$sudo shutdown –r now "system will be reboot now."
定时在1点38分重启计算机：$sudo shutdown –r 01:38



2. halt


命令格式：halt [选项]'><meta property="og:type" content="article"><meta property="og:url" content="http://yysog.com/posts/linux%E7%AC%94%E8%AE%B0/"><meta property="og:image" content="http://yysog.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-01T00:00:00+00:00"><meta property="article:modified_time" content="2024-09-01T00:00:00+00:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://yysog.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="linux笔记"><meta name=twitter:description content='linux笔记
Linux 教程 | 菜鸟教程 (runoob.com)
1. 字符/图形界面
1. 字符/图形界面的切换
计算机启动后默认进入图形界面登陆，若在进入字符界面，在图形登录界面使用Ctrl+Alt+F3;
若需从字符界面返回图形界面，使用Ctrl+Alt+F1
2. 查看/修改默认登陆界面


查看默认登陆界面：systemctl get-default


修改默认登陆界面：sudo systemctl set-default [登陆状态]
登陆状态：

graphical.target 表示图形界面
multi-user.target 表示字符界面



3. 字符界面关闭和重启(需要root权限)
1. shutdown


命令格式：shutdown [选项] [时间] [警告信息]
最常用： $ sudo shutdown(一分钟后关机)

  
      
          选项
          选项含义
      
  
  
      
          -k
          并不会关机，只发出警告信息给所有用户
      
      
          -r
          重新启动系统
      
      
          -h
          关闭系统
      
      
          -c
          取消运行shutdown
      
  

例：

发出关机警告信息，并不会关机：$sudo shutdown -k
立即关机：$sudo shutdown –h now
45分钟后关闭计算机：$sudo shutdown –h +45
重启计算机并发出警告：$sudo shutdown –r now "system will be reboot now."
定时在1点38分重启计算机：$sudo shutdown –r 01:38



2. halt


命令格式：halt [选项]'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://yysog.com/posts/"},{"@type":"ListItem","position":2,"name":"linux笔记","item":"http://yysog.com/posts/linux%E7%AC%94%E8%AE%B0/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"linux笔记","name":"linux笔记","description":"linux笔记 Linux 教程 | 菜鸟教程 (runoob.com)\n1. 字符/图形界面 1. 字符/图形界面的切换 计算机启动后默认进入图形界面登陆，若在进入字符界面，在图形登录界面使用Ctrl+Alt+F3;\n若需从字符界面返回图形界面，使用Ctrl+Alt+F1\n2. 查看/修改默认登陆界面 查看默认登陆界面：systemctl get-default\n修改默认登陆界面：sudo systemctl set-default [登陆状态]\n登陆状态：\ngraphical.target 表示图形界面 multi-user.target 表示字符界面 3. 字符界面关闭和重启(需要root权限) 1. shutdown 命令格式：shutdown [选项] [时间] [警告信息]\n最常用： $ sudo shutdown(一分钟后关机)\n选项 选项含义 -k 并不会关机，只发出警告信息给所有用户 -r 重新启动系统 -h 关闭系统 -c 取消运行shutdown 例：\n发出关机警告信息，并不会关机：$sudo shutdown -k 立即关机：$sudo shutdown –h now 45分钟后关闭计算机：$sudo shutdown –h +45 重启计算机并发出警告：$sudo shutdown –r now \u0026quot;system will be reboot now.\u0026quot; 定时在1点38分重启计算机：$sudo shutdown –r 01:38 2. halt 命令格式：halt [选项]\n","keywords":["linux"],"articleBody":"linux笔记 Linux 教程 | 菜鸟教程 (runoob.com)\n1. 字符/图形界面 1. 字符/图形界面的切换 计算机启动后默认进入图形界面登陆，若在进入字符界面，在图形登录界面使用Ctrl+Alt+F3;\n若需从字符界面返回图形界面，使用Ctrl+Alt+F1\n2. 查看/修改默认登陆界面 查看默认登陆界面：systemctl get-default\n修改默认登陆界面：sudo systemctl set-default [登陆状态]\n登陆状态：\ngraphical.target 表示图形界面 multi-user.target 表示字符界面 3. 字符界面关闭和重启(需要root权限) 1. shutdown 命令格式：shutdown [选项] [时间] [警告信息]\n最常用： $ sudo shutdown(一分钟后关机)\n选项 选项含义 -k 并不会关机，只发出警告信息给所有用户 -r 重新启动系统 -h 关闭系统 -c 取消运行shutdown 例：\n发出关机警告信息，并不会关机：$sudo shutdown -k 立即关机：$sudo shutdown –h now 45分钟后关闭计算机：$sudo shutdown –h +45 重启计算机并发出警告：$sudo shutdown –r now \"system will be reboot now.\" 定时在1点38分重启计算机：$sudo shutdown –r 01:38 2. halt 命令格式：halt [选项]\n最常用：$ sudo halt\n选项 选项含义 -w 并不会关机，将关机信息写入到/var/log/wtmp文件中 -d 关闭系统，不把记录写到/var/log/wtmp日志文件中 -f 不调用shutdown而强制关闭系统 3. reboot 命令格式：reboot [选项]\n最常用： $ sudo reboot\n选项 选项含义 -w 并不会真正重启系统，将重启信息写入到/var/log/wtmp文件中 -d 重启系统，不把记录写到/var/log/wtmp日志文件中 -f 不调用shutdown而强制重启系统 2. 字符界面下的命令 1. 命令排列 “;”\n命令1; 命令2\n不管命令1是否出错，都会执行命令2\n“\u0026\u0026”\n命令1 \u0026\u0026 命令2\n只有当命令1 正确运行完毕后，才执行命令2\n“||”\n命令1 || 命令2\n命令1 正确运行，不执行命令2；命令1运行错误，执行命令2\n2. 命令替换 “$()”\n命令1 $(命令2)。如：kill $(pidof less)\n“` `”\n命令1 `命令2`。 如：kill `pidof less`\n3. 命令别名 创建别名：alias [别名] = [需要定义别名的命令]\n取消别名：unalias [别名]\n注：如果命令中有空格的话，就需要使用双引号（比如在命令与选项之间就有空格）\n例：\n设置别名：\nalias work=\"cd /home/user01/program/cplus\"\n取消别名：\nunalias work\n3. 字符界面下的软件管理 1. dpkg(Debian Package):最早是Deb包管理工具 用法：dpkg [选项] 参数\n选项 含义 -i 安装软件(install) -R 安装一个目录下面所有的软件包(Regressive) -r 删除软件包，但保存其配置信息(remove) -L 查看软件安装文件所在位置(Location) 2. apt-get 命令 含义 apt-get install 安装包 apt-get reinstall 重新安装包 apt-get -f install 修复安装 apt-get remove 删除包 apt-get autoremove 删除包及其依赖 apt-get upgrade 更新已安装的包 4. 目录和文件 1. 更改工作目录：cd [目录] cd(change directory)命令的特殊用法：\ncd .. 转到当前目录的上层目录 cd ~ 转到当前用户的家目录 cd ../../ 转到当前目录的上上层目录 2. 显示当前工作目录：pwd 3. 目录与文件查看: ls 命令语法：ls [选项] [目录|文件](默认为当前目录)\n选项 含义 -l 以长格式形式显示 -a 显示所有文件或目录，包括隐藏文件 -i 显示文件索引信息，也就是文件的inode号 -d 只列出目录 4. 目录与文件创建：mkdir(目录)、touch(空文件)、cat(创建并写入) mkdir [选项] [目录]\n创建一个目录，常用选项:\n-m 指定所有用户对新建目录的权限\n-p 可以强制创建多层目录\n例：\n创建一个目录： $ mkdir a\n创建多人目录：$ mkdir a b c d\n创建目录时指定目录权限：$ mkdir -m 777 a\n强制创建目录：$ mkdir -p a/b/c\ntouch [选项] [文件]\n创建一个空文件\ncat \u003e file\n从键盘写入，按Ctrl + c退出，直接 cat file可以查看文件内容\n5. 目录与文件复制：cp [选项] [源文件|目录] [目标文件|目录] 注：源文件/目录可以为多个文件/目录\n常用选项：\n-r：递归复制\n例：\n复制文件file1到/tmp中并重命名为file2：$ cp file1 /tmp/file2\n复制目录/tmp到目录/tmp/hadoop下：$ cp –r /tmp /home/hadoop\n6. 目录与文件移动：mv [选项] [源文件|目录] [目标文件|目录] 例：\n将文件file1重命名为file2: $ mv file1 file2\n将/tmp目录下的pic重命名为pic2: $ mv /tmp/pic /tmp/pic2\n将/tmp目录下的目录pic移动到/usr/local/share/pic：$ mv /tmp/pic /usr/local/share/pic\n7. 目录与文件删除：rm [选项] [文件|目录]、rmdir 目录名 rm [选项] [文件|目录]\n常用选项：\n-r: 递归删除，可以删除目录下的文件或目录\n-f: 删除文件时不提醒而强制删除\nrmdir 目录名\n注：只能删除空目录，若删除目录及其父目录使用rmdir -p a/b将先删除b目录，再删除a目录，前提是为空目录\n5. 文件或目录的权限 1. 文件的保护方式 用户分类：文件拥有者(user)、同组用户(group)、其他用户(others) 三种权限：读(r)、写(w)、执行(x) 2. 查看文件的权限：ls -l [文件名] 3.文件或目录的权限设定：chmod [who] [+|-|=] [mode] 文件|目录 or chmod 数值 文件|目录 字符设定法：\n语法：chmod [who] [+|-|=] [mode] 文件|目录名\n说明：\n[who]：可以是下面字符中的一个或它们的组合：\nu(user): 表示“用户”，即文件或目录的所有者 g(group): 表示“同组用户” o(others): 表示“其他用户” a(all): 表示“所有用户” [+|-|=]：'+'表示添加某个权限；'-'表示取消某个权限；'='表示赋予给定权限\n[mode]：r(可读)、w(可写)、x(可执行)\n例：\n所有用户增加执行权限：$ chmod a+x test1 文件属主(u)和同组用户(g)增加写(w)权限，其他用户(o)删除写(w)、执行权限(x)：\n$ chmod ug+w, o-wx test2\n注：中间用逗号隔开 把文件执行权限改为rwxrw-rw-：$ chmod u=rwx,g=rw,o=rw test4 数值设定法：\n语法：chmod 数值 文件|目录名\n数值：rwx(二进制)\n例：\n属主(u)读写(rw)权限，同组用户(g)和其他用户(o)读(r)权限：$ chmod 644 aaa 属主(u)读写执行(rwx)权限，同组用户(g)读执行(rx)权限，其他用户(o)没有权限：$ chmod 750 bbb 6. 内容显示：cat、more、less、head、tail 1. cat：一次打印文件内容 语法：cat [选项] 文件名\n选项：\n-n 显示出行号\n-A 显示文件中所有字符，包括隐藏字符(换行符、制表符)\n2. more: 分页显示文件内容 语法：more 文件名\n注： 读完文件再显示 按空格向下翻页 ctrl+f向下翻页 ctrl+b向上翻页 按q键退出所查看的文件 3. less：边读边显示，启动快，其余与more基本相同 4. head：查看文件头几行数据 语法：head [-n number] file\n-n: 后面接数字，代表显示文件几行，不给定参数表示默认输出前10行\n例：\n查看文件前15行：$ head -n 15 test\n5. tail：查看文件末尾数据(用法写head类似) 7. 通配符与管道命令 1. 通配符 通配符：用符号来匹配一个或多个字符 符号 功能 ? 代表任何单一字符 * 代表任何字符串 [字符组合] 在中括号中的字符都符合，譬如：[a-z]代表任意一个小写字母 [!字符组合] 不在中括号中的字符都符合，譬如：[!0-9]代表任意一个非数字字符 2. 管道 管道：用符号\"|“来标识。用于连接两个命令，将前一个命令的输出结果作为后一个命令的输入\n命令语法：[命令1]|[命令2]|[命令3]\n例： 查看/etc目录下的文件，并将结果分页显示：$ ls /etc | more 查看系统中已安装软件中软件名包含字符’a’的所有软件，并分页显示：$ dpkg -l | grep a|more 8. 数据流重定向 1. 数据流 数据流是一组有顺序的、有起点和终点的字节集合\n数据流类别分为三种：标准输入(stdin)，标准输出(stdout)和标准错误输出(stderr)\n设备文件 说明 文件描述符 /dev/stdin 标准输入 0 /dev/stdout 标准输出 1 /dev/stderr 标准错误 2 2. 数据流重定向 参考\n1. 输出重定向 类型 符号 作用 标准输出/错误重定向 命令[2]\u003e文件 以覆盖的方式，把命令的正确/错\n误输出结果输出到指定的文件 标准输出/错误重定向 命令 [2]»文件 以追加的方式，把命令的正确/错误\n输出结果输出到指定的文件 正确和错误输出同时保存 命令\u003e文件 2\u003e\u00261\n命令 \u0026\u003e文件 以覆盖的文式，把正确和错误结果\n输出到同一个文件 正确和错误输出同时保存 命令»文件 2\u003e\u00261\n命令 \u0026»文件 以追加的方式，把正确和错误结\n果输出到同一个文件 例：\n查看计算机网上信息并将结果输出到文件right中：$ ifconfig \u003e\u003e right 命令运行正确时重定向到right，出错时重定向到error：$ ls -l /etca \u003eright 2\u003eerror 将ls命令运行结果重定向到right_error中(追加)：$ ls -l /etc \u0026\u003e\u003eright_error 2. 输入重定向 wc：$ wc [选项] [文件名]\n选项：\n-l: 统计行数\n-w: 统计单词数\n-c: 统计字节数\n例：\n统计文件test的行数、单词数及字节数：$ wc \u003c test\n9. 文本处理 1. 文本排序：sort [选项] 文件名 命令格式：sort [选项] 文件名\n功能：对文件中的文本默认按字典序从小到大进行排序，并将结果显示出来\n选项：\n-n: 按数值大小排序\n-u: 对排序后相同的行只保留一行\n-r: 按逆序输出排序结果\n-d: 按字典顺序排序\n-f: 忽略字母大小写\n例：\n对文件file1以倒序形式排序并显示在屏幕上：\n$ sort -r file1 / $ cat file1 sort -r 对文件file1排序并删掉重复的行：$ sort -u file1\n对数值文件file2按数值从小到大进行排序：$ sort -n file2\n2. 文本去重：uniq [选项] 文件名 命令格式：uniq [选项] 文件名\n功能：使用uniq命令可以将排序后文件内的重复行数据从输出文件中删除(源文件内容不会变)\n选项：\n-d: 只显示重复行\n-u: 只显示不重复的行\n例：\n使用uniq命令对文件file1去重后输出：$ sort file1 | uniq\n查看文件file1中重复的数据内容：$ sort file1 | uniq -d\n查看文件file1中不重复的数据内容：$ sort file1 | uniq -u\n3. 文本查找：grep [选项] [字符串] 文件名 命令格式：grep [选项] [字符串] 文件名\n功能：查找文件里符合条件的字符串行\n选项：\n-c: 只显示匹配的行数\n-i: 忽略字母大小写\n-n: 输出时加行号\n-v: 反转查找\n例：\n在/etc/adduser.conf文件中，查找含有adduser字符的行：\n$ grep adduer /etc/adduer.conf\n在adduser.conf文件中，查找不含’#‘的行并列出行号：\n$ grep -vn \"#\" /etc/adduser.conf\n4. 文本剪切：cut -f List -d Character 文件 命令格式：cut -f list -d Character 文件\n功能：从文件每行中选出指定的字节、字符或字段\n-f: 获取被定界符隔开后指定的字段列表，从1开始(field)\n-d: 指定分隔字符(delimiter)\n例：\n将PATH变量值取出，使用cut命令找出第五个路径：\n$ echo $PATH | cut -d ':' -f 5\n显示文件/etc/passwd中的用户登录名和用户名全称字段：\ncut -f 1,5 -d : /etc/passwd\n获取export命令输出信息的第12-20字符以后的内容：\n$ export | cut -c 12-20\n5. 文本比较：diff [选项] 文件1 文件2 命令格式：diff [选项] 文件1 文件2\n选项： -c: 以context模式显示比较的结果，相对normal -y: 以并列的方式显示文件的异同之处 -W: 与选项-y一起使用，指定列宽 10. 文件查找 1. find 命令格式：find 目录 寻找条件操作\n功能：在目录结构中搜索文件，并执行指定的操作\n寻找条件通常为：\n文件名称\n文件属性\n时间\n例：\n在/etc目录下，寻找以.conf结尾的文件：$ find /etc -name *.conf\n在当前目录下，查找属于user01用户的文件和目录：$ find . -user user01\n查找当前目录及其子目录下所有最近2天内更新过的文件：$ find . -ctime -20\n2. locate 命令格式：locate -n N 文件名\n功能：从例行工作(crontab)程序创建的数据库中查找文件\n选项：\n-n: 显示查找结果的个数 例：\n查找文件passwd所在位置：$ locate passwd\n查找文件passed所在位置(显示前三个)：$ locate passwd\n注：\n对于刚建立的文件，使用locate可以查找不到，因为后台数据库一天更新一次，若想立即搜索到，必须使用root权限运行updatedb命令更新数据库\n3. whereis 命令格式：whereis [可选项] 要查找的字符串\n功能：查找指定文件、命令和手册页的位置\n选项：\n-b: 只查找二进制文件\n-m: 只查找说明文件\n-s: 只查找源代码文件\n例：\n查找mkdir命令的所有信息：$ whereis mkdir\n查看mkdir命令的手册信息：$ whereis -m mkdir\n11. 压缩备份 1. gzip 命令格式：gzip [选项] 压缩/解压的文件名\n功能：对文件进行压缩和解压缩。压缩后，会自动在文件名后加上.gz扩展名，默认不保留原文件\n选项：\n-c: 将输出写到标准输出上，并保留原文件\n-d: 将压缩文件解压\n-r: 递归式地查找指定目录并压缩、解压缩\n例：\n用gzip命令将/home/lisi目录下的文件压缩：$ gzip /home/lisi/*\n用命令将/home/lisi目录下所有的.gz文件解压缩：$ gzip -d /home/lisi/* or $ gunzip /home/lisi/*\n2. bzip2 命令格式：bzip2 [选项] 文件名\n功能：对目录和文件进行压缩或解压缩，压缩文件默认扩展名为bz2\n选项：\n-d: 解压缩选项\n-v: 显示压缩或解压缩过程\n-f: 当文件重名时，进行覆盖\n例：\n使用bzip2命令压缩/home/lisi/目录下的文件：$ bzip2 /home/lisi/*\n使用bzip2命令解压缩/hmoe/list/目录下的文件：\n$ bzip2 -d /home/lisi/*\n3. tar 命令格式：tar [选项] 文件/目录名\n功能：将多个文件或目录打包成一个文件\n选项：\n-z: 用gzip命令进行压缩或解压缩\n-j: 通过bzip2进行压缩/解压缩\n-C: 指定解压缩目录\n-c: 创建新的备份文件，备份目录或文件时必选项\n-f: 对普通文件进行操作。这个选项通常是必选的\n-r: 向备份档文件追加文件\n-x: 从备份档文件中解压文件\n-t: 列出备份文档中所含的文件\n-v: 列出处理过程中的详细信息\n例：\n把/boot 目录下文件和子目录打包，打包文件名为usr.tar:\n$ tar -cvf usr.tar /boot\n把/boot目录下的文件和子目录打包，并用gzip算法进行压缩，文件名为usr.tar.gz:\n$ tar -zcvf usr.tar.gz /boot\n把usr.tar.gz这个打包文件还原并解压缩：\n$ tar -zxvf usr.tar.gz\n将usr.tar.bz2这个打包文件解压缩到/tmp\n$ tar -jxvf usr.tar.bz2 -C /tmp\n查看usr.tar备份文件的内容，并显示在显示器上\n$ tar -tvf usr.tar\n将文件/root/abc/d添加到usr.tar包里面去\n$ tar -rvf usr.tar /root/abc/d\n12. vi/vim编辑器(看文档) 1. vi/vim的三种模式 命令模式 插入模式 底线模式 转换图\n2. vi/vim的使用：vi/vim键盘图 vim命令速查 1. 进入vi编辑器 编辑一个文件\nvim file\n编辑多个文件\nvim file1 file2\n命令 说明 :n 编辑下一个文件 :N 编辑上一个文件 :rew 编辑第一个文件 2. 退出vi/vim 文件不存盘退出：:q!或:q\n注：!表示强制，下同 文件存盘退出：:wq!或:wq 文件另存为：:w otherfile 部分文件另存：:1,7 w otherfile 向文件中追加：10,12 w \u003e\u003e otherfile 3. 移动光标 上下左右单步移动：h(←), j(↓), k(↑), l(→)\n上下左右多步移动：n方向\n如：向上移动3行：3k\n逐单词移动\n操作 说明 w 将光标移动到下一个单词开头 b 将光标向前移动一个单词 e 将光标移动到单词的词尾 注：操作前也可以加数字表示多步操作。如：移动到后面的第3个单词开头：3w\n在某一行内移动\n操作 说明 示例 f+任意字母键 将光标移到文本中下一个所指定的字母 fy： 在行内向后查找并移到到y处 任意数字键+| 将光标移到数字键指定的字符位置(以1开头) `13 $ 将光标移动到当前行的行末 $: 移到到行末 ^ 将光标移到当前行的行首 ^: 移到到行首 在不同行上移动\n操作 说明 数字+G 将光标移动到数字对应行的行首，只输入G则移到到文件最后一行 :任意数字 将光标移到数字对应行的行首 :$ 将光标移到文件最后一行行首 - 将光标向上移动一行，与k相同 + 将光标向下移动一行，与j相同 在屏幕上移动\n操作 说明 M 将光标移动至当前屏幕中间 L 将光标移动至当前屏幕最下方 H 将光标移到至当前屏幕最上方 回到初始位置：''\n调整显示文本\n操作 说明 Ctrl+D 向下移动半屏文本内容 Ctrl+U 向上移动半屏文本内容 Ctrl+F 显示文件下一屏的文本内容 Ctrl+B 显示文件上一屏的文本内容 4. 文本添加(进入插入模式) 操作 说明 i/I 在光标当前位置左侧/行首插入文本 a/A 在光标当前位置右侧/行末插入文本 o/O 在光标当前位置下方/上方插入文本(会创建新的一行) 5. 文本查找与替换 查找\n操作 说明 /str 向下查找字符串str ?str 向上查找字符串str n 在前两个的基础上查找下一个 N 在前两个的基础上查找上一个 替换([查看键盘图](http://w -sog.xyz:8180/2022/05/25/91cab7cf54015.gif))\n操作 说明 r 对光标所在字符替换 R 对光标所在字符之后替换，直到按下Esc键结束 cw 删除光标后的单词，并进入插入模式 cc/S/C 删除当前行，并进入插入模式，详情查看键盘图 :s/word1/word2 将全文word1替换成word2 cf(ch) c和f的组合，光标所在字符向后查找至ch删除之间内容并进入插入模式 :1,$ s/word1/word2 将全文每行第一个word1替换成word2 :1,$ s/word1/word2/g 将全文所有word1替换成word2 6. 文本复制、剪切和粘贴 操作 说明 yl 复制光标所在字符，前面可接数字表多个 x/dl 剪切光标所在字符，前面可接数字表多个　注：X剪切前一个字符 yw/dw 复制/剪切光标后的一个单词，前面可加数字表多个 yy/dd 复制/剪切光标所在行，前面可加数字表向后多行 :2 copy/move 15 复制/剪切第二行内容到第十五行之后 :1,6 copy/move 15 复制/剪切第一行到第六行内容到第十五行之后 p 粘贴到光标下一行 P 粘贴到光标上一行 7. 重复与撤销 操作 说明 . 重复执行上一条指令 u 撤销上一个操作 U 撤销在当前行上的所有修改 8. 更改vim编辑器设置 操作 说明 :set [no]nu/number [不]显示行号 :set [no]ai/autoindent [不]设置自动缩进 :set showmode/noshowmode 显示/关闭当前编辑状态 :set [no]ic/ignorecase 搜索时[不]忽略大小写 :set list/nolist 显示/隐藏特殊字符 :set [no]sm/showmath [不]开启特殊字符匹配，如括号 :set wm/wrapmargin=n 设置输入长文本距离右边界多少时换行 :set all 查看所有设置值 编辑器的默认配置文件：在当前用户主目录(~)下创建一个.vimrc文件进行配置\nneovim 使用sudo保存文件：:w !sed '1i password' | sudo -S tee % \u003e/dev/null\n13. Shell编程(教程,shell字符串) 1. Shell变量 1. 变量类别 本地变量(局部变量)：也称为用户自定义变量，是在当前shell环境，当前进程内有效的变量，一般在脚本或命令中定义 环境变量：相当于全局变量，也称为系统变量。它与本地变量的差别在于它可以用于所有用户进程，和windows系统的环境变量类似 预定义变量：也称shell变量，相当于C语言中主函数变量，执行脚本程序时就被认定且不再改变 2. 常见预定义变量 特殊变量名 说明 $# 存储shell程序中命令行参数的个数 $? 存储shell中上一个程序执行的返回值(0表示命令执行成功，非0表示出错) $[1-n] 存储第[1-n]个命令行参数 $0 存储shell程序自己的名称 $* 存储shell脚本的所有参数(不包括$0) $$ 存储shell脚本的进程号(pid) 3. read命令 语法：\nread [-ers] [-a aname] [-d delim] [-i text] [-n nchars] [-N nchars] [-p prompt] [-t timeout] [-u fd] [name ...] -a 后跟一个变量，该变量会被认为是个数组，然后给其赋值，默认是以空格为分割符。 -d 后面跟一个标志符，其实只有其后的第一个字符有用，作为结束的标志。 -p 后面跟提示信息，即在输入前打印提示信息。 -e 在输入的时候可以使用命令补全功能。 -n 后跟一个数字，定义输入文本的长度，很实用。 -r 屏蔽\\，如果没有该选项，则\\作为一个转义字符，有的话 \\就是个正常的字符了。 -s 安静模式，在输入字符时不再屏幕上显示，例如login时输入密码。 -t 后面跟秒数，定义输入字符的等待时间。 -u 后面跟fd，从文件描述符中读入，该文件描述符可以是exec新开启的。 2. 选择结构 1. 条件判断式：test 文件存在性测试：\n参数 说明 -e 文件是否存在 -f 文件是否存在且为文件(file) -d 文件是否存在且为目录(directory) -b 文件是否存在且为一个block device文件 -c 文件是否存在且为一个character device文件 -S 文件是否存在且为一个Socket文件 -p 文件是否存在且为一个FIFO(pipe)文件 -L 文件是否存在且为一个链接文件 例：test -e file\n若当前目录下存在文件file，返回值为真，否则为假\n文件的权限测试：\n参数 说明 -r 检测该文件是否存在且具有可读的权限 -w 检测文件是否存在且具有可写的权限 -x 检测文件是否存在且具有可运行的权限 -u 检测文件是否存在且具有SUID的属性 -g 检测文件是否存在且具有SGID的属性 -k 检测文件是右存在且具有Sticky bit的属性 -s 检测文件是否存在且为非空白文件 例：test -r file\n若当前目录下文件file可读，返回值为真，否则为假 文件的新旧测试：\n参数 说明 -nt 判断两个文件到底哪一个文件要新 -ot 判断两个文件哪个文件要旧 -ef 判断两个文件是否为同一文件， 可用于判断硬链接文件 数值大小测试：\n参数 说明 -eq 测试两数值是否相等(equal) -ne 测试两数值是否不等(not equal) -gt 测试前一个数值n1是否大于后一个数值n2(greater than) -lt 测试n1是否小于n2(less than) -ge 测试n1是否大于等于n2(greater than or equal) -le 测试n1是否小于等于n2(less than or equal) 例：test n1 -eq n2\n若数值n1与n2相等，返回值为真，否则为假\n字符串测试\n参数 说明 -z 用于测试字符串长度是否为0，若字符串为空，则返回true -n 用于测试字符串长度是否为非0，若字符串为非空，则返回true = 用于判断两个字符串是否相等，苦相等则返回true != 用于判断两个字符串是否不相等，若不相等，则返回true 例：\ntest -z string: 测试string是否为空 test str1 = str2: 测试str1与str2是否相等\n注：’ = ‘与 ’ != ‘两边要加空格 多重条件判定\n参数 说明 -a 两种情况同时成立时才回传true(and) -o 两种情况任何一个成立就可回传true(or) ! 状态取反 例：\ntest -r file -a -x file: 表示file同时具有r与x权限时才回传true test ! -x file: 表示file不具有x权限时，回传true 综合例：\n使用者输入一个文件名，程序判断：\n这个文件是否存在，左路不存在则给予一个Filename does not exist的信息，并中断程序 若这个文件存在，则判断它是文件还是目录，结果输出Filename is regular file或Filename is directory 判断当前用户对这个设施或目录所拥有的权限，并输出权限信息 程序：\n:\u003c\u003c! 让使用者输入文件名，并且判断使用者是否真的有输入字符串 ! echo -e \"Please input a filename, I will check the filename's type and permission. \\n\\n\" read -p \"Input a filename : \" filename test -z $filename \u0026\u0026 echo \"You MUST input a filename.\" \u0026\u0026 exit 0 # 判断文件是否存在？若不存在则显示信息并结束脚本 test ! -e $filename \u0026\u0026 echo \"The filename '$filename' DO NOT exist\" \u0026\u0026 exit 0 # 开始判断文件类型与属性 test -f $filename \u0026\u0026 filetype=\"regulare file\" test -d $filename \u0026\u0026 filetype=\"directory\" test -r $filename \u0026\u0026 perm=\"readable\" test -w $filename \u0026\u0026 perm=\"$perm writable\" test -x $filename \u0026\u0026 perm=\"$perm executable\" # 开始输入 echo \"The filename: $filename is a $filetype\" echo \"And the permissions are : $perm\" 2. 条件判断符：[] 说明：\n能实现和test命令一样的功能 为了与通配符区分，各元素间均有空格 例：\n[ 1 -eq 2 ]: 判断1与2是否相等(注意[,]与内容间有空格)\n3. if-else 用法：\nif [ 条件判断式1 ]; then # 可以把then写在下一行，就不用写; 语句1 elif [ 条件判断式2 ]; then 语句2 else 语句3 fi 例：\nnum1=100 # 等号两边不能有空格 num2=100 if [ $num1 -eq $num2 ] then echo '两个数相等！' else echo '两个数不相等！' fi 4. case case \u003c变量\u003e in \u003c字符串1\u003e ) {\u003c命令清单1\u003e};; ... \u003c字符串n\u003e ) {\u003c命令清单n\u003e};; *) {其他命令};; esac 例：写一个shell脚本命名为capital，要求运行程序时输入国家名字，程序能输出这个国家的首都\n#!/bin/bash case $1 in China) echo Beijing;; # 注意是两个;相当于break USA) echo Washington;; British) echo London;; Russia) echo Moskow;; *)echo Out of my knowledge;; esac 3. 循环结构 1. for循环语句 语法一：\nfor((变量赋值;条件判断;变量迭代)) do 语句块 done 注意：for语句中一定要以do开始及以done结尾\n例：编写一个for循环，输入0-4共5个数值\n#!/bin/bash #第一行表示用bash执行 for((i=0;i\u003c5;i++)) do echo $i, is a number done 语法二\nfor var in item1 itme2 ... itemN do 语句块 done 例1：编写一个for循环，变量的取值列表为：dog cat lion tiger，输出结果\n#!/bin/bash for animal in dog cat lion tiger do echo “There are ${animal}s.” done 例2：\n#!/bin/bash list=\"beijing tianjing shanghai guangzhou\" list=$list\" xizang\" for scenery in $list do echo “Have you visited $scenery?” done :\u003c\u003c! 输出： Have you visited beijing? Have you visited tianjing? Have you visited shanghai? Have you visited guangzhou? Have you visited xizang? ! 注：若列表对象中有空格，可以用\"“包含\n2. while循环语句 语法：\nwhile [条件判断式] do 语句块 done 注：当条件判断式成立时，执行循环，while后面没有:\n例：\n当用户输入break或者BREAK才结束程序执行，否则就一直告知用户输入字符串，并将用户输入字符串输出\n#!/bin/bash while [ \"$yn\" != “break\" -a \"$yn\" != “BREAK\" ] do read -p “Please input a string : (break/Break to stop) \" yn echo You input a string : $yn done echo \"OK! you interrupt the program.\" 14. 文档编辑 1. sed命令(其它教程) sed命令(其它教程)\n特点：\n从文件中读入一行数据并把它保存在临时缓冲区中 处理临时缓冲区的内容，并将处理结果发送到显示器上 逐行处理文件所有内容直到最后一行 语法：\nsed [-hnV][-e","wordCount":"2062","inLanguage":"zh","image":"http://yysog.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-09-01T00:00:00Z","dateModified":"2024-09-01T00:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://yysog.com/posts/linux%E7%AC%94%E8%AE%B0/"},"publisher":{"@type":"Organization","name":"yysog's blog","logo":{"@type":"ImageObject","url":"http://yysog.com/favicon/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://yysog.com/ accesskey=h title="Hello, life (Alt + H)">Hello, life</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://yysog.com/archives/ title=文章><span>文章</span></a></li><li><a href=http://yysog.com/tags/ title=标签><span>标签</span></a></li><li><a href=http://yysog.com/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://yysog.com/>主页</a>&nbsp;»&nbsp;<a href=http://yysog.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">linux笔记</h1><div class=post-meta><span title='2024-09-01 00:00:00 +0000 UTC'>九月 1, 2024</span>&nbsp;·&nbsp;10 分钟&nbsp;·&nbsp;2062 字&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/linux%e7%ac%94%e8%ae%b0.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#linux%e7%ac%94%e8%ae%b0 aria-label=linux笔记>linux笔记</a><ul><li><a href=#1-%e5%ad%97%e7%ac%a6%e5%9b%be%e5%bd%a2%e7%95%8c%e9%9d%a2 aria-label="1. 字符/图形界面">1. 字符/图形界面</a><ul><li><a href=#1-%e5%ad%97%e7%ac%a6%e5%9b%be%e5%bd%a2%e7%95%8c%e9%9d%a2%e7%9a%84%e5%88%87%e6%8d%a2 aria-label="1. 字符/图形界面的切换">1. 字符/图形界面的切换</a></li><li><a href=#2-%e6%9f%a5%e7%9c%8b%e4%bf%ae%e6%94%b9%e9%bb%98%e8%ae%a4%e7%99%bb%e9%99%86%e7%95%8c%e9%9d%a2 aria-label="2. 查看/修改默认登陆界面">2. 查看/修改默认登陆界面</a></li><li><a href=#3-%e5%ad%97%e7%ac%a6%e7%95%8c%e9%9d%a2%e5%85%b3%e9%97%ad%e5%92%8c%e9%87%8d%e5%90%af%e9%9c%80%e8%a6%81root%e6%9d%83%e9%99%90 aria-label="3. 字符界面关闭和重启(需要root权限)">3. 字符界面关闭和重启(需要root权限)</a><ul><li><a href=#1-shutdownhttpswwwrunoobcomlinuxlinux-comm-shutdownhtml aria-label="1. shutdown">1. shutdown</a></li><li><a href=#2-halthttpswwwrunoobcomlinuxlinux-comm-halthtml aria-label="2. halt">2. halt</a></li><li><a href=#3-reboothttpswwwrunoobcomlinuxlinux-comm-reboothtml aria-label="3. reboot">3. reboot</a></li></ul></li></ul></li><li><a href=#2-%e5%ad%97%e7%ac%a6%e7%95%8c%e9%9d%a2%e4%b8%8b%e7%9a%84%e5%91%bd%e4%bb%a4 aria-label="2. 字符界面下的命令">2. 字符界面下的命令</a><ul><li><a href=#1-%e5%91%bd%e4%bb%a4%e6%8e%92%e5%88%97 aria-label="1. 命令排列">1. 命令排列</a></li><li><a href=#2-%e5%91%bd%e4%bb%a4%e6%9b%bf%e6%8d%a2 aria-label="2. 命令替换">2. 命令替换</a></li><li><a href=#3-%e5%91%bd%e4%bb%a4%e5%88%ab%e5%90%8d aria-label="3. 命令别名">3. 命令别名</a></li></ul></li><li><a href=#3-%e5%ad%97%e7%ac%a6%e7%95%8c%e9%9d%a2%e4%b8%8b%e7%9a%84%e8%bd%af%e4%bb%b6%e7%ae%a1%e7%90%86 aria-label="3. 字符界面下的软件管理">3. 字符界面下的软件管理</a><ul><li><a href=#1-dpkgdebian-package%e6%9c%80%e6%97%a9%e6%98%afdeb%e5%8c%85%e7%ae%a1%e7%90%86%e5%b7%a5%e5%85%b7 aria-label="1. dpkg(Debian Package):最早是Deb包管理工具">1. dpkg(Debian Package):最早是Deb包管理工具</a></li><li><a href=#2-apt-get aria-label="2. apt-get">2. apt-get</a></li></ul></li><li><a href=#4-%e7%9b%ae%e5%bd%95%e5%92%8c%e6%96%87%e4%bb%b6 aria-label="4. 目录和文件">4. 目录和文件</a><ul><li><a href=#1-%e6%9b%b4%e6%94%b9%e5%b7%a5%e4%bd%9c%e7%9b%ae%e5%bd%95cd-%e7%9b%ae%e5%bd%95 aria-label="1. 更改工作目录：cd [目录]">1. 更改工作目录：<code>cd [目录]</code></a></li><li><a href=#2-%e6%98%be%e7%a4%ba%e5%bd%93%e5%89%8d%e5%b7%a5%e4%bd%9c%e7%9b%ae%e5%bd%95pwd aria-label="2. 显示当前工作目录：pwd">2. 显示当前工作目录：<code>pwd</code></a></li><li><a href=#3-%e7%9b%ae%e5%bd%95%e4%b8%8e%e6%96%87%e4%bb%b6%e6%9f%a5%e7%9c%8bhttpswwwrunoobcomlinuxlinux-comm-lshtml-ls aria-label="3. 目录与文件查看: ls">3. 目录与文件查看: <code>ls</code></a></li><li><a href=#4-%e7%9b%ae%e5%bd%95%e4%b8%8e%e6%96%87%e4%bb%b6%e5%88%9b%e5%bb%bamkdir%e7%9b%ae%e5%bd%95touch%e7%a9%ba%e6%96%87%e4%bb%b6cat%e5%88%9b%e5%bb%ba%e5%b9%b6%e5%86%99%e5%85%a5 aria-label="4. 目录与文件创建：mkdir(目录)、touch(空文件)、cat(创建并写入)">4. 目录与文件创建：<code>mkdir(目录)、touch(空文件)、cat(创建并写入)</code></a></li><li><a href=#5-%e7%9b%ae%e5%bd%95%e4%b8%8e%e6%96%87%e4%bb%b6%e5%a4%8d%e5%88%b6httpswwwrunoobcomlinuxlinux-comm-cphtmlcp-%e9%80%89%e9%a1%b9-%e6%ba%90%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95-%e7%9b%ae%e6%a0%87%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95 aria-label="5. 目录与文件复制：cp [选项] [源文件|目录] [目标文件|目录]">5. 目录与文件复制：<code>cp [选项] [源文件|目录] [目标文件|目录]</code></a></li><li><a href=#6-%e7%9b%ae%e5%bd%95%e4%b8%8e%e6%96%87%e4%bb%b6%e7%a7%bb%e5%8a%a8httpswwwrunoobcomlinuxlinux-comm-mvhtmlmv-%e9%80%89%e9%a1%b9-%e6%ba%90%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95-%e7%9b%ae%e6%a0%87%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95 aria-label="6. 目录与文件移动：mv [选项] [源文件|目录] [目标文件|目录]">6. 目录与文件移动：<code>mv [选项] [源文件|目录] [目标文件|目录]</code></a></li><li><a href=#7-%e7%9b%ae%e5%bd%95%e4%b8%8e%e6%96%87%e4%bb%b6%e5%88%a0%e9%99%a4httpswwwrunoobcomlinuxlinux-comm-rmhtmlrm-%e9%80%89%e9%a1%b9-%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95rmdir-%e7%9b%ae%e5%bd%95%e5%90%8d aria-label="7. 目录与文件删除：rm [选项] [文件|目录]、rmdir 目录名">7. 目录与文件删除：<code>rm [选项] [文件|目录]、rmdir 目录名</code></a></li></ul></li><li><a href=#5-%e6%96%87%e4%bb%b6%e6%88%96%e7%9b%ae%e5%bd%95%e7%9a%84%e6%9d%83%e9%99%90 aria-label="5. 文件或目录的权限">5. 文件或目录的权限</a><ul><li><a href=#1-%e6%96%87%e4%bb%b6%e7%9a%84%e4%bf%9d%e6%8a%a4%e6%96%b9%e5%bc%8f aria-label="1. 文件的保护方式">1. 文件的保护方式</a></li><li><a href=#2-%e6%9f%a5%e7%9c%8b%e6%96%87%e4%bb%b6%e7%9a%84%e6%9d%83%e9%99%90ls--l-%e6%96%87%e4%bb%b6%e5%90%8d aria-label="2. 查看文件的权限：ls -l [文件名]">2. 查看文件的权限：<code>ls -l [文件名]</code></a></li><li><a href=#3%e6%96%87%e4%bb%b6%e6%88%96%e7%9b%ae%e5%bd%95%e7%9a%84%e6%9d%83%e9%99%90%e8%ae%be%e5%ae%9achmod-who---mode-%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95-or-chmod-%e6%95%b0%e5%80%bc-%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95 aria-label="3.文件或目录的权限设定：chmod [who] [+|-|=] [mode] 文件|目录 or chmod 数值 文件|目录">3.文件或目录的权限设定：<code>chmod [who] [+|-|=] [mode] 文件|目录</code> or <code>chmod 数值 文件|目录</code></a></li></ul></li><li><a href=#6-%e5%86%85%e5%ae%b9%e6%98%be%e7%a4%bacatmorelessheadtail aria-label="6. 内容显示：cat、more、less、head、tail">6. 内容显示：<code>cat、more、less、head、tail</code></a><ul><li><a href=#1-cat%e4%b8%80%e6%ac%a1%e6%89%93%e5%8d%b0%e6%96%87%e4%bb%b6%e5%86%85%e5%ae%b9 aria-label="1. cat：一次打印文件内容">1. cat：一次打印文件内容</a></li><li><a href=#2-more-%e5%88%86%e9%a1%b5%e6%98%be%e7%a4%ba%e6%96%87%e4%bb%b6%e5%86%85%e5%ae%b9 aria-label="2. more: 分页显示文件内容">2. more: 分页显示文件内容</a></li><li><a href=#3-less%e8%be%b9%e8%af%bb%e8%be%b9%e6%98%be%e7%a4%ba%e5%90%af%e5%8a%a8%e5%bf%ab%e5%85%b6%e4%bd%99%e4%b8%8emore%e5%9f%ba%e6%9c%ac%e7%9b%b8%e5%90%8c aria-label="3. less：边读边显示，启动快，其余与more基本相同">3. less：边读边显示，启动快，其余与more基本相同</a></li><li><a href=#4-head%e6%9f%a5%e7%9c%8b%e6%96%87%e4%bb%b6%e5%a4%b4%e5%87%a0%e8%a1%8c%e6%95%b0%e6%8d%ae aria-label="4. head：查看文件头几行数据">4. head：查看文件头几行数据</a></li><li><a href=#5-tail%e6%9f%a5%e7%9c%8b%e6%96%87%e4%bb%b6%e6%9c%ab%e5%b0%be%e6%95%b0%e6%8d%ae%e7%94%a8%e6%b3%95%e5%86%99head%e7%b1%bb%e4%bc%bc aria-label="5. tail：查看文件末尾数据(用法写head类似)">5. tail：查看文件末尾数据(用法写head类似)</a></li></ul></li><li><a href=#7-%e9%80%9a%e9%85%8d%e7%ac%a6%e4%b8%8e%e7%ae%a1%e9%81%93%e5%91%bd%e4%bb%a4 aria-label="7. 通配符与管道命令">7. 通配符与管道命令</a><ul><li><a href=#1-%e9%80%9a%e9%85%8d%e7%ac%a6 aria-label="1. 通配符">1. 通配符</a></li><li><a href=#2-%e7%ae%a1%e9%81%93 aria-label="2. 管道">2. 管道</a></li></ul></li><li><a href=#8-%e6%95%b0%e6%8d%ae%e6%b5%81%e9%87%8d%e5%ae%9a%e5%90%91 aria-label="8. 数据流重定向">8. 数据流重定向</a><ul><li><a href=#1-%e6%95%b0%e6%8d%ae%e6%b5%81 aria-label="1. 数据流">1. 数据流</a></li><li><a href=#2-%e6%95%b0%e6%8d%ae%e6%b5%81%e9%87%8d%e5%ae%9a%e5%90%91 aria-label="2. 数据流重定向">2. 数据流重定向</a><ul><li><a href=#1-%e8%be%93%e5%87%ba%e9%87%8d%e5%ae%9a%e5%90%91 aria-label="1. 输出重定向">1. 输出重定向</a></li><li><a href=#2-%e8%be%93%e5%85%a5%e9%87%8d%e5%ae%9a%e5%90%91 aria-label="2. 输入重定向">2. 输入重定向</a></li></ul></li></ul></li><li><a href=#9-%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86 aria-label="9. 文本处理">9. 文本处理</a><ul><li><a href=#1-%e6%96%87%e6%9c%ac%e6%8e%92%e5%ba%8fsort-%e9%80%89%e9%a1%b9-%e6%96%87%e4%bb%b6%e5%90%8d aria-label="1. 文本排序：sort [选项] 文件名">1. 文本排序：<code>sort [选项] 文件名</code></a></li><li><a href=#2-%e6%96%87%e6%9c%ac%e5%8e%bb%e9%87%8duniq-%e9%80%89%e9%a1%b9-%e6%96%87%e4%bb%b6%e5%90%8d aria-label="2. 文本去重：uniq [选项] 文件名">2. 文本去重：<code>uniq [选项] 文件名</code></a></li><li><a href=#3-%e6%96%87%e6%9c%ac%e6%9f%a5%e6%89%begrep-%e9%80%89%e9%a1%b9-%e5%ad%97%e7%ac%a6%e4%b8%b2-%e6%96%87%e4%bb%b6%e5%90%8d aria-label="3. 文本查找：grep [选项] [字符串] 文件名">3. 文本查找：<code>grep [选项] [字符串] 文件名</code></a></li><li><a href=#4-%e6%96%87%e6%9c%ac%e5%89%aa%e5%88%87cut--f-list--d-character-%e6%96%87%e4%bb%b6 aria-label="4. 文本剪切：cut -f List -d Character 文件">4. 文本剪切：<code>cut -f List -d Character 文件</code></a></li><li><a href=#5-%e6%96%87%e6%9c%ac%e6%af%94%e8%be%83diff-%e9%80%89%e9%a1%b9-%e6%96%87%e4%bb%b61-%e6%96%87%e4%bb%b62 aria-label="5. 文本比较：diff [选项] 文件1 文件2">5. 文本比较：<code>diff [选项] 文件1 文件2</code></a></li></ul></li><li><a href=#10-%e6%96%87%e4%bb%b6%e6%9f%a5%e6%89%be aria-label="10. 文件查找">10. 文件查找</a><ul><li><a href=#1-findhttpswwwrunoobcomlinuxlinux-comm-findhtml aria-label="1. find">1. find</a></li><li><a href=#2-locatehttpswwwrunoobcomlinuxlinux-comm-locatehtml aria-label="2. locate">2. locate</a></li><li><a href=#3-whereishttpswwwrunoobcomlinuxlinux-comm-whereishtml aria-label="3. whereis">3. whereis</a></li></ul></li><li><a href=#11-%e5%8e%8b%e7%bc%a9%e5%a4%87%e4%bb%bd aria-label="11. 压缩备份">11. 压缩备份</a><ul><li><a href=#1-gziphttpswwwrunoobcomlinuxlinux-comm-gziphtml aria-label="1. gzip">1. gzip</a></li><li><a href=#2-bzip2httpswwwrunoobcomlinuxlinux-comm-bzip2html aria-label="2. bzip2">2. bzip2</a></li><li><a href=#3-tarhttpswwwrunoobcomlinuxlinux-comm-tarhtml aria-label="3. tar">3. tar</a></li></ul></li><li><a href=#12-vivim%e7%bc%96%e8%be%91%e5%99%a8%e7%9c%8b%e6%96%87%e6%a1%a3httpswwwrunoobcomlinuxlinux-vimhtml aria-label="12. vi/vim编辑器(看文档)">12. vi/vim编辑器(看文档)</a><ul><li><a href=#1-vivim%e7%9a%84%e4%b8%89%e7%a7%8d%e6%a8%a1%e5%bc%8f aria-label="1. vi/vim的三种模式">1. vi/vim的三种模式</a></li><li><a href=#2-vivim%e7%9a%84%e4%bd%bf%e7%94%a8vivim%e9%94%ae%e7%9b%98%e5%9b%behttpwwwyysogxyz81802022052591cab7cf54015gif-vim%e5%91%bd%e4%bb%a4%e9%80%9f%e6%9f%a5httpwwwyysogxyz818020220525611fd438445fapng aria-label="2. vi/vim的使用：vi/vim键盘图 vim命令速查">2. vi/vim的使用：vi/vim键盘图 vim命令速查</a><ul><li><a href=#1-%e8%bf%9b%e5%85%a5vi%e7%bc%96%e8%be%91%e5%99%a8 aria-label="1. 进入vi编辑器">1. 进入vi编辑器</a></li><li><a href=#2-%e9%80%80%e5%87%bavivim aria-label="2. 退出vi/vim">2. 退出vi/vim</a></li><li><a href=#3-%e7%a7%bb%e5%8a%a8%e5%85%89%e6%a0%87 aria-label="3. 移动光标">3. 移动光标</a></li><li><a href=#4-%e6%96%87%e6%9c%ac%e6%b7%bb%e5%8a%a0%e8%bf%9b%e5%85%a5%e6%8f%92%e5%85%a5%e6%a8%a1%e5%bc%8f aria-label="4. 文本添加(进入插入模式)">4. 文本添加(进入插入模式)</a></li><li><a href=#5-%e6%96%87%e6%9c%ac%e6%9f%a5%e6%89%be%e4%b8%8e%e6%9b%bf%e6%8d%a2 aria-label="5. 文本查找与替换">5. 文本查找与替换</a></li><li><a href=#6-%e6%96%87%e6%9c%ac%e5%a4%8d%e5%88%b6%e5%89%aa%e5%88%87%e5%92%8c%e7%b2%98%e8%b4%b4 aria-label="6. 文本复制、剪切和粘贴">6. 文本复制、剪切和粘贴</a></li><li><a href=#7-%e9%87%8d%e5%a4%8d%e4%b8%8e%e6%92%a4%e9%94%80 aria-label="7. 重复与撤销">7. 重复与撤销</a></li><li><a href=#8-%e6%9b%b4%e6%94%b9vim%e7%bc%96%e8%be%91%e5%99%a8%e8%ae%be%e7%bd%ae aria-label="8. 更改vim编辑器设置">8. 更改vim编辑器设置</a></li></ul></li></ul></li><li><a href=#13-shell%e7%bc%96%e7%a8%8b%e6%95%99%e7%a8%8bhttpswwwrunoobcomlinuxlinux-shellhtmlshell%e5%ad%97%e7%ac%a6%e4%b8%b2httpsblogcsdnnetdongwumingarticledetails50605911 aria-label="13. Shell编程(教程,shell字符串)">13. Shell编程(教程,shell字符串)</a><ul><li><a href=#1-shell%e5%8f%98%e9%87%8f aria-label="1. Shell变量">1. Shell变量</a><ul><li><a href=#1-%e5%8f%98%e9%87%8f%e7%b1%bb%e5%88%ab aria-label="1. 变量类别">1. 变量类别</a></li><li><a href=#2-%e5%b8%b8%e8%a7%81%e9%a2%84%e5%ae%9a%e4%b9%89%e5%8f%98%e9%87%8f aria-label="2. 常见预定义变量">2. 常见预定义变量</a></li><li><a href=#3-read%e5%91%bd%e4%bb%a4httpswwwrunoobcomlinuxlinux-comm-readhtml aria-label="3. read命令">3. read命令</a></li></ul></li><li><a href=#2-%e9%80%89%e6%8b%a9%e7%bb%93%e6%9e%84 aria-label="2. 选择结构">2. 选择结构</a><ul><li><a href=#1-%e6%9d%a1%e4%bb%b6%e5%88%a4%e6%96%ad%e5%bc%8ftest aria-label="1. 条件判断式：test">1. 条件判断式：<code>test</code></a></li><li><a href=#2-%e6%9d%a1%e4%bb%b6%e5%88%a4%e6%96%ad%e7%ac%a6 aria-label="2. 条件判断符：[]">2. 条件判断符：[]</a></li><li><a href=#3-if-else aria-label="3. if-else">3. if-else</a></li><li><a href=#4-case aria-label="4. case">4. case</a></li></ul></li><li><a href=#3-%e5%be%aa%e7%8e%af%e7%bb%93%e6%9e%84 aria-label="3. 循环结构">3. 循环结构</a><ul><li><a href=#1-for%e5%be%aa%e7%8e%af%e8%af%ad%e5%8f%a5 aria-label="1. for循环语句">1. for循环语句</a></li><li><a href=#2-while%e5%be%aa%e7%8e%af%e8%af%ad%e5%8f%a5 aria-label="2. while循环语句">2. while循环语句</a></li></ul></li></ul></li><li><a href=#14-%e6%96%87%e6%a1%a3%e7%bc%96%e8%be%91 aria-label="14. 文档编辑">14. 文档编辑</a><ul><li><a href=#1-sed%e5%91%bd%e4%bb%a4httpswwwrunoobcomlinuxlinux-comm-sedhtml%e5%85%b6%e5%ae%83%e6%95%99%e7%a8%8bhttpswwwcnblogscomheziliangp15121513html aria-label="1. sed命令(其它教程)">1. sed命令(其它教程)</a></li><li><a href=#2-awk%e5%91%bd%e4%bb%a4httpswwwrunoobcomlinuxlinux-comm-awkhtml aria-label="2. awk命令">2. awk命令</a></li></ul></li><li><a href=#15-shell%e5%bf%ab%e6%8d%b7%e9%94%aehttpswwwcnblogscomvweip15858145html aria-label="15. shell快捷键">15. shell快捷键</a><ul><li><a href=#%e7%bc%96%e8%be%91%e5%91%bd%e4%bb%a4 aria-label=编辑命令>编辑命令</a></li><li><a href=#%e9%87%8d%e6%96%b0%e6%89%a7%e8%a1%8c%e5%91%bd%e4%bb%a4 aria-label=重新执行命令>重新执行命令</a></li><li><a href=#%e6%8e%a7%e5%88%b6%e5%91%bd%e4%bb%a4 aria-label=控制命令>控制命令</a></li><li><a href=#bang--%e5%91%bd%e4%bb%a4 aria-label="Bang (!) 命令">Bang (!) 命令</a></li></ul></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=linux笔记>linux笔记<a hidden class=anchor aria-hidden=true href=#linux笔记>#</a></h1><p><a href=https://www.runoob.com/linux/linux-tutorial.html>Linux 教程 | 菜鸟教程 (runoob.com)</a></p><h2 id=1-字符图形界面>1. 字符/图形界面<a hidden class=anchor aria-hidden=true href=#1-字符图形界面>#</a></h2><h3 id=1-字符图形界面的切换>1. 字符/图形界面的切换<a hidden class=anchor aria-hidden=true href=#1-字符图形界面的切换>#</a></h3><p>计算机启动后默认进入图形界面登陆，若在进入字符界面，在图形登录界面使用Ctrl+Alt+F3;<br>若需从字符界面返回图形界面，使用Ctrl+Alt+F1</p><h3 id=2-查看修改默认登陆界面>2. 查看/修改默认登陆界面<a hidden class=anchor aria-hidden=true href=#2-查看修改默认登陆界面>#</a></h3><ol><li><p>查看默认登陆界面：<code>systemctl get-default</code></p></li><li><p>修改默认登陆界面：<code>sudo systemctl set-default [登陆状态]</code></p><p>登陆状态：</p><ul><li><code>graphical.target</code> 表示图形界面</li><li><code>multi-user.target</code> 表示字符界面</li></ul></li></ol><h3 id=3-字符界面关闭和重启需要root权限>3. 字符界面关闭和重启(需要root权限)<a hidden class=anchor aria-hidden=true href=#3-字符界面关闭和重启需要root权限>#</a></h3><h4 id=1-shutdownhttpswwwrunoobcomlinuxlinux-comm-shutdownhtml>1. <a href=https://www.runoob.com/linux/linux-comm-shutdown.html>shutdown</a><a hidden class=anchor aria-hidden=true href=#1-shutdownhttpswwwrunoobcomlinuxlinux-comm-shutdownhtml>#</a></h4><ul><li><p>命令格式：<code>shutdown [选项] [时间] [警告信息]</code></p><p>最常用： <code>$ sudo shutdown(一分钟后关机)</code></p><table><thead><tr><th style=text-align:center>选项</th><th style=text-align:center>选项含义</th></tr></thead><tbody><tr><td style=text-align:center>-k</td><td style=text-align:center>并不会关机，只发出警告信息给所有用户</td></tr><tr><td style=text-align:center>-r</td><td style=text-align:center>重新启动系统</td></tr><tr><td style=text-align:center>-h</td><td style=text-align:center>关闭系统</td></tr><tr><td style=text-align:center>-c</td><td style=text-align:center>取消运行shutdown</td></tr></tbody></table><p>例：</p><ul><li>发出关机警告信息，并不会关机：<code>$sudo shutdown -k</code></li><li>立即关机：<code>$sudo shutdown –h now</code></li><li>45分钟后关闭计算机：<code>$sudo shutdown –h +45</code></li><li>重启计算机并发出警告：<code>$sudo shutdown –r now "system will be reboot now."</code></li><li>定时在1点38分重启计算机：<code>$sudo shutdown –r 01:38</code></li></ul></li></ul><h4 id=2-halthttpswwwrunoobcomlinuxlinux-comm-halthtml>2. <a href=https://www.runoob.com/linux/linux-comm-halt.html>halt</a><a hidden class=anchor aria-hidden=true href=#2-halthttpswwwrunoobcomlinuxlinux-comm-halthtml>#</a></h4><ul><li><p>命令格式：<code>halt [选项]</code></p><p>最常用：<code>$ sudo halt</code></p><table><thead><tr><th style=text-align:center>选项</th><th style=text-align:center>选项含义</th></tr></thead><tbody><tr><td style=text-align:center>-w</td><td style=text-align:center>并不会关机，将关机信息写入到/var/log/wtmp文件中</td></tr><tr><td style=text-align:center>-d</td><td style=text-align:center>关闭系统，不把记录写到/var/log/wtmp日志文件中</td></tr><tr><td style=text-align:center>-f</td><td style=text-align:center>不调用shutdown而强制关闭系统</td></tr></tbody></table></li></ul><h4 id=3-reboothttpswwwrunoobcomlinuxlinux-comm-reboothtml>3. <a href=https://www.runoob.com/linux/linux-comm-reboot.html>reboot</a><a hidden class=anchor aria-hidden=true href=#3-reboothttpswwwrunoobcomlinuxlinux-comm-reboothtml>#</a></h4><ul><li><p>命令格式：<code>reboot [选项]</code></p><p>最常用： <code>$ sudo reboot</code></p><table><thead><tr><th style=text-align:center>选项</th><th style=text-align:center>选项含义</th></tr></thead><tbody><tr><td style=text-align:center>-w</td><td style=text-align:center>并不会真正重启系统，将重启信息写入到/var/log/wtmp文件中</td></tr><tr><td style=text-align:center>-d</td><td style=text-align:center>重启系统，不把记录写到/var/log/wtmp日志文件中</td></tr><tr><td style=text-align:center>-f</td><td style=text-align:center>不调用shutdown而强制重启系统</td></tr></tbody></table></li></ul><h2 id=2-字符界面下的命令>2. 字符界面下的命令<a hidden class=anchor aria-hidden=true href=#2-字符界面下的命令>#</a></h2><h3 id=1-命令排列>1. 命令排列<a hidden class=anchor aria-hidden=true href=#1-命令排列>#</a></h3><ul><li><p>&ldquo;;&rdquo;</p><p>命令1; 命令2<br>不管命令1是否出错，都会执行命令2</p></li><li><p>&ldquo;&&&rdquo;</p><p>命令1 && 命令2<br>只有当命令1 正确运行完毕后，才执行命令2</p></li><li><p>&ldquo;||&rdquo;</p><p>命令1 || 命令2<br>命令1 正确运行，不执行命令2；命令1运行错误，执行命令2</p></li></ul><h3 id=2-命令替换>2. 命令替换<a hidden class=anchor aria-hidden=true href=#2-命令替换>#</a></h3><ul><li><p>&ldquo;$()&rdquo;</p><p>命令1 $(命令2)。如：kill $(pidof less)</p></li><li><p>&ldquo;` `&rdquo;</p><p>命令1 `命令2`。 如：kill `pidof less`</p></li></ul><h3 id=3-命令别名>3. 命令别名<a hidden class=anchor aria-hidden=true href=#3-命令别名>#</a></h3><ul><li><p>创建别名：alias [别名] = [需要定义别名的命令]</p></li><li><p>取消别名：unalias [别名]</p><p>注：如果命令中有空格的话，就需要使用双引号（比如在命令与选项之间就有空格）<br>例：<br>设置别名：<br><code>alias work="cd /home/user01/program/cplus"</code><br>取消别名：<br><code>unalias work</code></p></li></ul><h2 id=3-字符界面下的软件管理>3. 字符界面下的软件管理<a hidden class=anchor aria-hidden=true href=#3-字符界面下的软件管理>#</a></h2><h3 id=1-dpkgdebian-package最早是deb包管理工具>1. dpkg(Debian Package):最早是Deb包管理工具<a hidden class=anchor aria-hidden=true href=#1-dpkgdebian-package最早是deb包管理工具>#</a></h3><p>用法：dpkg [选项] 参数</p><table><thead><tr><th style=text-align:center>选项</th><th style=text-align:center>含义</th></tr></thead><tbody><tr><td style=text-align:center>-i</td><td style=text-align:center>安装软件(install)</td></tr><tr><td style=text-align:center>-R</td><td style=text-align:center>安装一个目录下面所有的软件包(Regressive)</td></tr><tr><td style=text-align:center>-r</td><td style=text-align:center>删除软件包，但保存其配置信息(remove)</td></tr><tr><td style=text-align:center>-L</td><td style=text-align:center>查看软件安装文件所在位置(Location)</td></tr></tbody></table><h3 id=2-apt-get>2. apt-get<a hidden class=anchor aria-hidden=true href=#2-apt-get>#</a></h3><table><thead><tr><th style=text-align:left>命令</th><th style=text-align:left>含义</th></tr></thead><tbody><tr><td style=text-align:left>apt-get install</td><td style=text-align:left>安装包</td></tr><tr><td style=text-align:left>apt-get reinstall</td><td style=text-align:left>重新安装包</td></tr><tr><td style=text-align:left>apt-get -f install</td><td style=text-align:left>修复安装</td></tr><tr><td style=text-align:left>apt-get remove</td><td style=text-align:left>删除包</td></tr><tr><td style=text-align:left>apt-get autoremove</td><td style=text-align:left>删除包及其依赖</td></tr><tr><td style=text-align:left>apt-get upgrade</td><td style=text-align:left>更新已安装的包</td></tr></tbody></table><h2 id=4-目录和文件>4. 目录和文件<a hidden class=anchor aria-hidden=true href=#4-目录和文件>#</a></h2><h3 id=1-更改工作目录cd-目录>1. 更改工作目录：<code>cd [目录]</code><a hidden class=anchor aria-hidden=true href=#1-更改工作目录cd-目录>#</a></h3><p>cd(change directory)命令的特殊用法：</p><ul><li><code>cd ..</code> 转到当前目录的上层目录<ul><li><code>cd ~</code> 转到当前用户的家目录</li><li><code>cd ../../</code> 转到当前目录的上上层目录</li></ul></li></ul><h3 id=2-显示当前工作目录pwd>2. 显示当前工作目录：<code>pwd</code><a hidden class=anchor aria-hidden=true href=#2-显示当前工作目录pwd>#</a></h3><h3 id=3-目录与文件查看httpswwwrunoobcomlinuxlinux-comm-lshtml-ls>3. <a href=https://www.runoob.com/linux/linux-comm-ls.html>目录与文件查看</a>: <code>ls</code><a hidden class=anchor aria-hidden=true href=#3-目录与文件查看httpswwwrunoobcomlinuxlinux-comm-lshtml-ls>#</a></h3><p>命令语法：ls [选项] [目录|文件](默认为当前目录)</p><table><thead><tr><th style=text-align:center>选项</th><th style=text-align:center>含义</th></tr></thead><tbody><tr><td style=text-align:center>-l</td><td style=text-align:center>以长格式形式显示</td></tr><tr><td style=text-align:center>-a</td><td style=text-align:center>显示所有文件或目录，包括隐藏文件</td></tr><tr><td style=text-align:center>-i</td><td style=text-align:center>显示文件索引信息，也就是文件的inode号</td></tr><tr><td style=text-align:center>-d</td><td style=text-align:center>只列出目录</td></tr></tbody></table><h3 id=4-目录与文件创建mkdir目录touch空文件cat创建并写入>4. 目录与文件创建：<code>mkdir(目录)、touch(空文件)、cat(创建并写入)</code><a hidden class=anchor aria-hidden=true href=#4-目录与文件创建mkdir目录touch空文件cat创建并写入>#</a></h3><ul><li><p><code>mkdir [选项] [目录]</code></p><p>创建一个目录，常用选项:</p><blockquote><p>-m 指定所有用户对新建目录的权限<br>-p 可以强制创建多层目录</p></blockquote><p>例：</p><blockquote><p>创建一个目录： <code>$ mkdir a</code><br>创建多人目录：<code>$ mkdir a b c d</code><br>创建目录时指定目录权限：<code>$ mkdir -m 777 a</code><br>强制创建目录：<code>$ mkdir -p a/b/c</code></p></blockquote></li><li><p><code>touch [选项] [文件]</code></p><p>创建一个空文件</p></li><li><p><code>cat > file</code></p><p>从键盘写入，按Ctrl + c退出，直接 <code>cat file</code>可以查看文件内容</p></li></ul><h3 id=5-目录与文件复制httpswwwrunoobcomlinuxlinux-comm-cphtmlcp-选项-源文件目录-目标文件目录>5. <a href=https://www.runoob.com/linux/linux-comm-cp.html>目录与文件复制</a>：<code>cp [选项] [源文件|目录] [目标文件|目录]</code><a hidden class=anchor aria-hidden=true href=#5-目录与文件复制httpswwwrunoobcomlinuxlinux-comm-cphtmlcp-选项-源文件目录-目标文件目录>#</a></h3><p>注：源文件/目录可以为多个文件/目录</p><p>常用选项：</p><blockquote><p><code>-r</code>：递归复制</p></blockquote><p>例：</p><blockquote><p>复制文件file1到/tmp中并重命名为file2：<code>$ cp file1 /tmp/file2</code><br>复制目录/tmp到目录/tmp/hadoop下：<code>$ cp –r /tmp /home/hadoop</code></p></blockquote><h3 id=6-目录与文件移动httpswwwrunoobcomlinuxlinux-comm-mvhtmlmv-选项-源文件目录-目标文件目录>6. <a href=https://www.runoob.com/linux/linux-comm-mv.html>目录与文件移动</a>：<code>mv [选项] [源文件|目录] [目标文件|目录]</code><a hidden class=anchor aria-hidden=true href=#6-目录与文件移动httpswwwrunoobcomlinuxlinux-comm-mvhtmlmv-选项-源文件目录-目标文件目录>#</a></h3><p>例：</p><blockquote><p>将文件file1重命名为file2: <code>$ mv file1 file2</code><br>将/tmp目录下的pic重命名为pic2: <code>$ mv /tmp/pic /tmp/pic2</code><br>将/tmp目录下的目录pic移动到/usr/local/share/pic：<code>$ mv /tmp/pic /usr/local/share/pic</code></p></blockquote><h3 id=7-目录与文件删除httpswwwrunoobcomlinuxlinux-comm-rmhtmlrm-选项-文件目录rmdir-目录名>7. <a href=https://www.runoob.com/linux/linux-comm-rm.html>目录与文件删除</a>：<code>rm [选项] [文件|目录]、rmdir 目录名</code><a hidden class=anchor aria-hidden=true href=#7-目录与文件删除httpswwwrunoobcomlinuxlinux-comm-rmhtmlrm-选项-文件目录rmdir-目录名>#</a></h3><ul><li><p><code>rm [选项] [文件|目录]</code></p><p>常用选项：</p><blockquote><p><code>-r</code>: 递归删除，可以删除目录下的文件或目录<br><code>-f</code>: 删除文件时不提醒而强制删除</p></blockquote></li><li><p><code>rmdir 目录名</code></p><p>注：只能删除空目录，若删除目录及其父目录使用<code>rmdir -p a/b</code>将先删除b目录，再删除a目录，前提是为空目录</p></li></ul><h2 id=5-文件或目录的权限>5. 文件或目录的权限<a hidden class=anchor aria-hidden=true href=#5-文件或目录的权限>#</a></h2><h3 id=1-文件的保护方式>1. 文件的保护方式<a hidden class=anchor aria-hidden=true href=#1-文件的保护方式>#</a></h3><ul><li>用户分类：文件拥有者(user)、同组用户(group)、其他用户(others)</li><li>三种权限：读(r)、写(w)、执行(x)</li></ul><h3 id=2-查看文件的权限ls--l-文件名>2. 查看文件的权限：<code>ls -l [文件名]</code><a hidden class=anchor aria-hidden=true href=#2-查看文件的权限ls--l-文件名>#</a></h3><h3 id=3文件或目录的权限设定chmod-who---mode-文件目录-or-chmod-数值-文件目录>3.文件或目录的权限设定：<code>chmod [who] [+|-|=] [mode] 文件|目录</code> or <code>chmod 数值 文件|目录</code><a hidden class=anchor aria-hidden=true href=#3文件或目录的权限设定chmod-who---mode-文件目录-or-chmod-数值-文件目录>#</a></h3><ul><li><p>字符设定法：</p><p>语法：<code>chmod [who] [+|-|=] [mode] 文件|目录名</code><br>说明：<br><code>[who]</code>：可以是下面字符中的一个或它们的组合：</p><ul><li><code>u(user)</code>: 表示“用户”，即文件或目录的所有者</li><li><code>g(group)</code>: 表示“同组用户”</li><li><code>o(others)</code>: 表示“其他用户”</li><li><code>a(all)</code>: 表示“所有用户”</li></ul><p><code>[+|-|=]</code>：<code>'+'</code>表示添加某个权限；<code>'-'</code>表示取消某个权限；<code>'='</code>表示赋予给定权限<br>[mode]：r(可读)、w(可写)、x(可执行)<br>例：</p><ul><li>所有用户增加执行权限：<code>$ chmod a+x test1</code></li><li>文件属主(u)和同组用户(g)增加写(w)权限，其他用户(o)删除写(w)、执行权限(x)：<br><code>$ chmod ug+w, o-wx test2</code><br><strong>注：中间用逗号隔开</strong></li><li>把文件执行权限改为<code>rwxrw-rw-</code>：<code>$ chmod u=rwx,g=rw,o=rw test4</code></li></ul></li><li><p>数值设定法：<br>语法：<code>chmod 数值 文件|目录名</code><br>数值：<code>rwx</code>(二进制)<br>例：</p><ul><li>属主(u)读写(rw)权限，同组用户(g)和其他用户(o)读(r)权限：<code>$ chmod 644 aaa</code></li><li>属主(u)读写执行(rwx)权限，同组用户(g)读执行(rx)权限，其他用户(o)没有权限：<code>$ chmod 750 bbb</code></li></ul></li></ul><h2 id=6-内容显示catmorelessheadtail>6. 内容显示：<code>cat、more、less、head、tail</code><a hidden class=anchor aria-hidden=true href=#6-内容显示catmorelessheadtail>#</a></h2><h3 id=1-cat一次打印文件内容>1. cat：一次打印文件内容<a hidden class=anchor aria-hidden=true href=#1-cat一次打印文件内容>#</a></h3><p>语法：<code>cat [选项] 文件名</code><br>选项：</p><blockquote><p>-n 显示出行号<br>-A 显示文件中所有字符，包括隐藏字符(换行符、制表符)</p></blockquote><h3 id=2-more-分页显示文件内容>2. more: 分页显示文件内容<a hidden class=anchor aria-hidden=true href=#2-more-分页显示文件内容>#</a></h3><ul><li>语法：<code>more 文件名</code><br>注：<ul><li>读完文件再显示</li><li>按空格向下翻页</li><li>ctrl+f向下翻页</li><li>ctrl+b向上翻页</li><li>按q键退出所查看的文件</li></ul></li></ul><h3 id=3-less边读边显示启动快其余与more基本相同>3. less：边读边显示，启动快，其余与more基本相同<a hidden class=anchor aria-hidden=true href=#3-less边读边显示启动快其余与more基本相同>#</a></h3><h3 id=4-head查看文件头几行数据>4. head：查看文件头几行数据<a hidden class=anchor aria-hidden=true href=#4-head查看文件头几行数据>#</a></h3><p>语法：head [-n number] file</p><blockquote><p>-n: 后面接数字，代表显示文件几行，不给定参数表示默认输出前10行</p></blockquote><p>例：</p><blockquote><p>查看文件前15行：<code>$ head -n 15 test</code></p></blockquote><h3 id=5-tail查看文件末尾数据用法写head类似>5. tail：查看文件末尾数据(用法写head类似)<a hidden class=anchor aria-hidden=true href=#5-tail查看文件末尾数据用法写head类似>#</a></h3><h2 id=7-通配符与管道命令>7. 通配符与管道命令<a hidden class=anchor aria-hidden=true href=#7-通配符与管道命令>#</a></h2><h3 id=1-通配符>1. 通配符<a hidden class=anchor aria-hidden=true href=#1-通配符>#</a></h3><ul><li>通配符：用符号来匹配一个或多个字符</li></ul><table><thead><tr><th>符号</th><th>功能</th></tr></thead><tbody><tr><td>?</td><td>代表任何单一字符</td></tr><tr><td>*</td><td>代表任何字符串</td></tr><tr><td>[字符组合]</td><td>在中括号中的字符都符合，譬如：[a-z]代表任意<strong>一个</strong>小写字母</td></tr><tr><td>[!字符组合]</td><td>不在中括号中的字符都符合，譬如：[!0-9]代表任意<strong>一个</strong>非数字字符</td></tr></tbody></table><h3 id=2-管道>2. 管道<a hidden class=anchor aria-hidden=true href=#2-管道>#</a></h3><ul><li>管道：用符号"|&ldquo;来标识。用于连接两个命令，将前一个命令的输出结果作为后一个命令的输入<br>命令语法：[命令1]|[命令2]|[命令3]<br>例：<ul><li>查看/etc目录下的文件，并将结果分页显示：<code>$ ls /etc | more</code></li><li>查看系统中已安装软件中软件名包含字符&rsquo;a&rsquo;的所有软件，并分页显示：<code>$ dpkg -l | grep a|more</code></li></ul></li></ul><h2 id=8-数据流重定向>8. 数据流重定向<a hidden class=anchor aria-hidden=true href=#8-数据流重定向>#</a></h2><h3 id=1-数据流>1. 数据流<a hidden class=anchor aria-hidden=true href=#1-数据流>#</a></h3><ul><li><p>数据流是一组有顺序的、有起点和终点的字节集合</p></li><li><p>数据流类别分为三种：标准输入(stdin)，标准输出(stdout)和标准错误输出(stderr)</p><table><thead><tr><th>设备文件</th><th>说明</th><th>文件描述符</th></tr></thead><tbody><tr><td>/dev/stdin</td><td>标准输入</td><td>0</td></tr><tr><td>/dev/stdout</td><td>标准输出</td><td>1</td></tr><tr><td>/dev/stderr</td><td>标准错误</td><td>2</td></tr></tbody></table></li></ul><h3 id=2-数据流重定向>2. 数据流重定向<a hidden class=anchor aria-hidden=true href=#2-数据流重定向>#</a></h3><p><a href=https://blog.csdn.net/bluishglc/article/details/132716571>参考</a></p><h4 id=1-输出重定向>1. 输出重定向<a hidden class=anchor aria-hidden=true href=#1-输出重定向>#</a></h4><table><thead><tr><th>类型</th><th>符号</th><th>作用</th></tr></thead><tbody><tr><td>标准输出/错误重定向</td><td>命令[2]>文件</td><td>以<strong>覆盖</strong>的方式，把命令的正确/错<br>误输出结果输出到指定的文件</td></tr><tr><td>标准输出/错误重定向</td><td>命令 [2]&#187;文件</td><td>以<strong>追加</strong>的方式，把命令的正确/错误<br>输出结果输出到指定的文件</td></tr><tr><td>正确和错误输出同时保存</td><td>命令>文件 2>&amp;1<br>命令 &>文件</td><td>以<strong>覆盖</strong>的文式，把正确和错误结果<br>输出到同一个文件</td></tr><tr><td>正确和错误输出同时保存</td><td>命令&#187;文件 2>&amp;1<br>命令 &&#187;文件</td><td>以<strong>追加</strong>的方式，把正确和错误结<br>果输出到同一个文件</td></tr></tbody></table><p>例：</p><ul><li>查看计算机网上信息并将结果输出到文件right中：<code>$ ifconfig >> right</code></li><li>命令运行正确时重定向到right，出错时重定向到error：<code>$ ls -l /etca >right 2>error</code></li><li>将ls命令运行结果重定向到right_error中(追加)：<code>$ ls -l /etc &>>right_error</code></li></ul><h4 id=2-输入重定向>2. 输入重定向<a hidden class=anchor aria-hidden=true href=#2-输入重定向>#</a></h4><ul><li><p>wc：<code>$ wc [选项] [文件名]</code><br>选项：</p><ul><li><p>-l: 统计行数</p></li><li><p>-w: 统计单词数</p></li><li><p>-c: 统计字节数</p><p>例：</p></li><li><p>统计文件test的行数、单词数及字节数：<code>$ wc &lt; test</code></p></li></ul></li></ul><h2 id=9-文本处理>9. 文本处理<a hidden class=anchor aria-hidden=true href=#9-文本处理>#</a></h2><h3 id=1-文本排序sort-选项-文件名>1. 文本排序：<code>sort [选项] 文件名</code><a hidden class=anchor aria-hidden=true href=#1-文本排序sort-选项-文件名>#</a></h3><ul><li><p>命令格式：<code>sort [选项] 文件名</code><br>功能：对文件中的文本默认按字典序从小到大进行排序，并将结果显示出来<br>选项：</p><ul><li><p>-n: 按数值大小排序</p></li><li><p>-u: 对排序后相同的行只保留一行</p></li><li><p>-r: 按逆序输出排序结果</p></li><li><p>-d: 按字典顺序排序</p></li><li><p>-f: 忽略字母大小写</p><p>例：</p></li><li><p>对文件file1以倒序形式排序并显示在屏幕上：<br><code>$ sort -r file1</code> / <code>$ cat file1 sort -r</code></p></li><li><p>对文件file1排序并删掉重复的行：<code>$ sort -u file1</code></p></li><li><p>对数值文件file2按数值从小到大进行排序：<code>$ sort -n file2</code></p></li></ul></li></ul><h3 id=2-文本去重uniq-选项-文件名>2. 文本去重：<code>uniq [选项] 文件名</code><a hidden class=anchor aria-hidden=true href=#2-文本去重uniq-选项-文件名>#</a></h3><ul><li><p>命令格式：<code>uniq [选项] 文件名</code><br>功能：使用uniq命令可以将<strong>排序后</strong>文件内的重复行数据从输出文件中删除(源文件内容不会变)<br>选项：</p><ul><li><p>-d: 只显示重复行</p></li><li><p>-u: 只显示不重复的行</p><p>例：</p></li><li><p>使用uniq命令对文件file1去重后输出：<code>$ sort file1 | uniq</code></p></li><li><p>查看文件file1中重复的数据内容：<code>$ sort file1 | uniq -d</code></p></li><li><p>查看文件file1中不重复的数据内容：<code>$ sort file1 | uniq -u</code></p></li></ul></li></ul><h3 id=3-文本查找grep-选项-字符串-文件名>3. 文本查找：<code>grep [选项] [字符串] 文件名</code><a hidden class=anchor aria-hidden=true href=#3-文本查找grep-选项-字符串-文件名>#</a></h3><ul><li><p>命令格式：<code>grep [选项] [字符串] 文件名</code><br>功能：查找文件里符合条件的字符串行<br>选项：</p><ul><li><p>-c: 只显示匹配的行数</p></li><li><p>-i: 忽略字母大小写</p></li><li><p>-n: 输出时加行号</p></li><li><p>-v: 反转查找</p><p>例：</p></li><li><p>在/etc/adduser.conf文件中，查找含有adduser字符的行：<br><code>$ grep adduer /etc/adduer.conf</code></p></li><li><p>在adduser.conf文件中，查找不含&rsquo;#&lsquo;的行并列出行号：<br><code>$ grep -vn "#" /etc/adduser.conf</code></p></li></ul></li></ul><h3 id=4-文本剪切cut--f-list--d-character-文件>4. 文本剪切：<code>cut -f List -d Character 文件</code><a hidden class=anchor aria-hidden=true href=#4-文本剪切cut--f-list--d-character-文件>#</a></h3><ul><li><p>命令格式：<code>cut -f list -d Character 文件</code><br>功能：从文件每行中选出指定的字节、字符或字段</p><ul><li><p>-f: 获取被定界符隔开后指定的字段列表，<strong>从1开始</strong>(field)</p></li><li><p>-d: 指定分隔字符(delimiter)</p><p>例：</p></li><li><p>将PATH变量值取出，使用cut命令找出第五个路径：<br><code>$ echo $PATH | cut -d ':' -f 5</code></p></li><li><p>显示文件/etc/passwd中的用户登录名和用户名全称字段：<br><code>cut -f 1,5 -d : /etc/passwd</code></p></li><li><p>获取export命令输出信息的第12-20字符以后的内容：<br><code>$ export | cut -c 12-20</code></p></li></ul></li></ul><h3 id=5-文本比较diff-选项-文件1-文件2>5. 文本比较：<code>diff [选项] 文件1 文件2</code><a hidden class=anchor aria-hidden=true href=#5-文本比较diff-选项-文件1-文件2>#</a></h3><ul><li>命令格式：<code>diff [选项] 文件1 文件2</code><br>选项：<ul><li>-c: 以context模式显示比较的结果，相对normal</li><li>-y: 以并列的方式显示文件的异同之处</li><li>-W: 与选项-y一起使用，指定列宽</li></ul></li></ul><h2 id=10-文件查找>10. 文件查找<a hidden class=anchor aria-hidden=true href=#10-文件查找>#</a></h2><h3 id=1-findhttpswwwrunoobcomlinuxlinux-comm-findhtml>1. <a href=https://www.runoob.com/linux/linux-comm-find.html>find</a><a hidden class=anchor aria-hidden=true href=#1-findhttpswwwrunoobcomlinuxlinux-comm-findhtml>#</a></h3><ul><li><p>命令格式：<code>find 目录 寻找条件操作</code><br>功能：在目录结构中搜索文件，并执行指定的操作<br>寻找条件通常为：</p><ul><li><p>文件名称</p></li><li><p>文件属性</p></li><li><p>时间</p><p>例：</p></li><li><p>在/etc目录下，寻找以.conf结尾的文件：<code>$ find /etc -name *.conf</code></p></li><li><p>在当前目录下，查找属于user01用户的文件和目录：<code>$ find . -user user01</code></p></li><li><p>查找当前目录及其子目录下所有最近2天内更新过的文件：<code>$ find . -ctime -20</code></p></li></ul></li></ul><h3 id=2-locatehttpswwwrunoobcomlinuxlinux-comm-locatehtml>2. <a href=https://www.runoob.com/linux/linux-comm-locate.html>locate</a><a hidden class=anchor aria-hidden=true href=#2-locatehttpswwwrunoobcomlinuxlinux-comm-locatehtml>#</a></h3><ul><li><p>命令格式：<code>locate -n N 文件名</code><br>功能：从例行工作(crontab)程序创建的数据库中查找文件<br>选项：</p><ul><li>-n: 显示查找结果的个数</li></ul><p>例：</p><ul><li><p>查找文件passwd所在位置：<code>$ locate passwd</code></p></li><li><p>查找文件passed所在位置(显示前三个)：<code>$ locate passwd</code></p><p>注：<br>对于刚建立的文件，使用locate可以查找不到，因为后台数据库一天更新一次，若想立即搜索到，必须使用root权限运行<code>updatedb</code>命令更新数据库</p></li></ul></li></ul><h3 id=3-whereishttpswwwrunoobcomlinuxlinux-comm-whereishtml>3. <a href=https://www.runoob.com/linux/linux-comm-whereis.html>whereis</a><a hidden class=anchor aria-hidden=true href=#3-whereishttpswwwrunoobcomlinuxlinux-comm-whereishtml>#</a></h3><ul><li><p>命令格式：<code>whereis [可选项] 要查找的字符串</code><br>功能：查找指定文件、命令和手册页的位置<br>选项：</p><ul><li><p>-b: 只查找二进制文件</p></li><li><p>-m: 只查找说明文件</p></li><li><p>-s: 只查找源代码文件</p><p>例：</p></li><li><p>查找mkdir命令的所有信息：<code>$ whereis mkdir</code></p></li><li><p>查看mkdir命令的手册信息：<code>$ whereis -m mkdir</code></p></li></ul></li></ul><h2 id=11-压缩备份>11. 压缩备份<a hidden class=anchor aria-hidden=true href=#11-压缩备份>#</a></h2><h3 id=1-gziphttpswwwrunoobcomlinuxlinux-comm-gziphtml>1. <a href=https://www.runoob.com/linux/linux-comm-gzip.html>gzip</a><a hidden class=anchor aria-hidden=true href=#1-gziphttpswwwrunoobcomlinuxlinux-comm-gziphtml>#</a></h3><ul><li><p>命令格式：<code>gzip [选项] 压缩/解压的文件名</code><br>功能：对文件进行压缩和解压缩。压缩后，会自动在文件名后加上.gz扩展名，默认不保留原文件<br>选项：</p><ul><li><p>-c: 将输出写到标准输出上，并保留原文件</p></li><li><p>-d: 将压缩文件解压</p></li><li><p>-r: 递归式地查找指定目录并压缩、解压缩</p><p>例：</p></li><li><p>用gzip命令将/home/lisi目录下的文件压缩：<code>$ gzip /home/lisi/*</code></p></li><li><p>用命令将/home/lisi目录下所有的.gz文件解压缩：<code>$ gzip -d /home/lisi/*</code> or <code>$ gunzip /home/lisi/*</code></p></li></ul></li></ul><h3 id=2-bzip2httpswwwrunoobcomlinuxlinux-comm-bzip2html>2. <a href=https://www.runoob.com/linux/linux-comm-bzip2.html>bzip2</a><a hidden class=anchor aria-hidden=true href=#2-bzip2httpswwwrunoobcomlinuxlinux-comm-bzip2html>#</a></h3><ul><li><p>命令格式：<code>bzip2 [选项] 文件名</code><br>功能：对目录和文件进行压缩或解压缩，压缩文件默认扩展名为bz2<br>选项：</p><ul><li><p>-d: 解压缩选项</p></li><li><p>-v: 显示压缩或解压缩过程</p></li><li><p>-f: 当文件重名时，进行覆盖</p><p>例：</p></li><li><p>使用bzip2命令压缩/home/lisi/目录下的文件：<code>$ bzip2 /home/lisi/*</code></p></li><li><p>使用bzip2命令解压缩/hmoe/list/目录下的文件：<br><code>$ bzip2 -d /home/lisi/*</code></p></li></ul></li></ul><h3 id=3-tarhttpswwwrunoobcomlinuxlinux-comm-tarhtml>3. <a href=https://www.runoob.com/linux/linux-comm-tar.html>tar</a><a hidden class=anchor aria-hidden=true href=#3-tarhttpswwwrunoobcomlinuxlinux-comm-tarhtml>#</a></h3><ul><li><p>命令格式：<code>tar [选项] 文件/目录名</code><br>功能：将多个文件或目录打包成一个文件<br>选项：</p><ul><li><p>-z: 用gzip命令进行压缩或解压缩</p></li><li><p>-j: 通过bzip2进行压缩/解压缩</p></li><li><p>-C: 指定解压缩目录</p></li><li><p>-c: 创建新的备份文件，备份目录或文件时必选项</p></li><li><p>-f: 对普通文件进行操作。这个选项通常是必选的</p></li><li><p>-r: 向备份档文件追加文件</p></li><li><p>-x: 从备份档文件中解压文件</p></li><li><p>-t: 列出备份文档中所含的文件</p></li><li><p>-v: 列出处理过程中的详细信息</p><p>例：</p></li><li><p>把/boot 目录下文件和子目录打包，打包文件名为usr.tar:<br><code>$ tar -cvf usr.tar /boot</code></p></li><li><p>把/boot目录下的文件和子目录打包，并用gzip算法进行压缩，文件名为usr.tar.gz:<br><code>$ tar -zcvf usr.tar.gz /boot</code></p></li><li><p>把usr.tar.gz这个打包文件还原并解压缩：<br><code>$ tar -zxvf usr.tar.gz</code></p></li><li><p>将usr.tar.bz2这个打包文件解压缩到/tmp<br><code>$ tar -jxvf usr.tar.bz2 -C /tmp</code></p></li><li><p>查看usr.tar备份文件的内容，并显示在显示器上<br><code>$ tar -tvf usr.tar</code></p></li><li><p>将文件/root/abc/d添加到usr.tar包里面去<br><code>$ tar -rvf usr.tar /root/abc/d</code></p></li></ul></li></ul><h2 id=12-vivim编辑器看文档httpswwwrunoobcomlinuxlinux-vimhtml>12. vi/vim编辑器(看<a href=https://www.runoob.com/linux/linux-vim.html>文档</a>)<a hidden class=anchor aria-hidden=true href=#12-vivim编辑器看文档httpswwwrunoobcomlinuxlinux-vimhtml>#</a></h2><h3 id=1-vivim的三种模式>1. vi/vim的三种模式<a hidden class=anchor aria-hidden=true href=#1-vivim的三种模式>#</a></h3><ul><li>命令模式</li><li>插入模式</li><li>底线模式</li></ul><p><a href=http://www.yysog.xyz:8180/2022/05/25/6e7236733da94.png>转换图</a></p><h3 id=2-vivim的使用vivim键盘图httpwwwyysogxyz81802022052591cab7cf54015gif-vim命令速查httpwwwyysogxyz818020220525611fd438445fapng>2. vi/vim的使用：<a href=http://www.yysog.xyz:8180/2022/05/25/91cab7cf54015.gif>vi/vim键盘图</a> <a href=http://www.yysog.xyz:8180/2022/05/25/611fd438445fa.png>vim命令速查</a><a hidden class=anchor aria-hidden=true href=#2-vivim的使用vivim键盘图httpwwwyysogxyz81802022052591cab7cf54015gif-vim命令速查httpwwwyysogxyz818020220525611fd438445fapng>#</a></h3><h4 id=1-进入vi编辑器>1. 进入vi编辑器<a hidden class=anchor aria-hidden=true href=#1-进入vi编辑器>#</a></h4><ol><li><p>编辑一个文件<br><code>vim file</code></p></li><li><p>编辑多个文件</p><p><code>vim file1 file2</code></p><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>:n</td><td>编辑下一个文件</td></tr><tr><td>:N</td><td>编辑上一个文件</td></tr><tr><td>:rew</td><td>编辑第一个文件</td></tr></tbody></table></li></ol><h4 id=2-退出vivim>2. 退出vi/vim<a hidden class=anchor aria-hidden=true href=#2-退出vivim>#</a></h4><ol><li>文件不存盘退出：<code>:q!</code>或<code>:q</code><br>注：!表示强制，下同</li><li>文件存盘退出：<code>:wq!</code>或<code>:wq</code></li><li>文件另存为：<code>:w otherfile</code></li><li>部分文件另存：<code>:1,7 w otherfile</code></li><li>向文件中追加：<code>10,12 w >> otherfile</code></li></ol><h4 id=3-移动光标>3. 移动光标<a hidden class=anchor aria-hidden=true href=#3-移动光标>#</a></h4><ol><li><p>上下左右单步移动：<code>h(←), j(↓), k(↑), l(→)</code></p></li><li><p>上下左右多步移动：<code>n方向</code><br>如：向上移动3行：<code>3k</code></p></li><li><p>逐单词移动</p><table><thead><tr><th>操作</th><th>说明</th></tr></thead><tbody><tr><td>w</td><td>将光标移动到下一个单词开头</td></tr><tr><td>b</td><td>将光标向前移动一个单词</td></tr><tr><td>e</td><td>将光标移动到单词的词尾</td></tr></tbody></table><p>注：操作前也可以加数字表示多步操作。如：移动到后面的第3个单词开头：<code>3w</code></p></li><li><p>在某一行内移动</p><table><thead><tr><th>操作</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td>f+任意字母键</td><td>将光标移到文本中下一个所指定的字母</td><td><code>fy</code>： 在行内向后查找并移到到y处</td></tr><tr><td>任意数字键+|</td><td>将光标移到数字键指定的字符位置(以1开头)</td><td>`13</td></tr><tr><td>$</td><td>将光标移动到当前行的行末</td><td><code>$</code>: 移到到行末</td></tr><tr><td>^</td><td>将光标移到当前行的行首</td><td><code>^</code>: 移到到行首</td></tr></tbody></table></li><li><p>在不同行上移动</p><table><thead><tr><th>操作</th><th>说明</th></tr></thead><tbody><tr><td>数字+G</td><td>将光标移动到数字对应行的行首，只输入G则移到到文件最后一行</td></tr><tr><td>:任意数字</td><td>将光标移到数字对应行的行首</td></tr><tr><td>:$</td><td>将光标移到文件最后一行行首</td></tr><tr><td>-</td><td>将光标向上移动一行，与k相同</td></tr><tr><td>+</td><td>将光标向下移动一行，与j相同</td></tr></tbody></table></li><li><p>在屏幕上移动</p><table><thead><tr><th>操作</th><th>说明</th></tr></thead><tbody><tr><td>M</td><td>将光标移动至当前屏幕中间</td></tr><tr><td>L</td><td>将光标移动至当前屏幕最下方</td></tr><tr><td>H</td><td>将光标移到至当前屏幕最上方</td></tr></tbody></table></li><li><p>回到初始位置：<code>''</code></p></li><li><p>调整显示文本</p><table><thead><tr><th>操作</th><th>说明</th></tr></thead><tbody><tr><td>Ctrl+D</td><td>向下移动半屏文本内容</td></tr><tr><td>Ctrl+U</td><td>向上移动半屏文本内容</td></tr><tr><td>Ctrl+F</td><td>显示文件下一屏的文本内容</td></tr><tr><td>Ctrl+B</td><td>显示文件上一屏的文本内容</td></tr></tbody></table></li></ol><h4 id=4-文本添加进入插入模式>4. 文本添加(进入插入模式)<a hidden class=anchor aria-hidden=true href=#4-文本添加进入插入模式>#</a></h4><table><thead><tr><th>操作</th><th>说明</th></tr></thead><tbody><tr><td>i/I</td><td>在光标当前位置左侧/行首插入文本</td></tr><tr><td>a/A</td><td>在光标当前位置右侧/行末插入文本</td></tr><tr><td>o/O</td><td>在光标当前位置下方/上方插入文本(会创建新的一行)</td></tr></tbody></table><h4 id=5-文本查找与替换>5. 文本查找与替换<a hidden class=anchor aria-hidden=true href=#5-文本查找与替换>#</a></h4><ol><li><p>查找</p><table><thead><tr><th>操作</th><th>说明</th></tr></thead><tbody><tr><td>/str</td><td>向下查找字符串str</td></tr><tr><td>?str</td><td>向上查找字符串str</td></tr><tr><td>n</td><td>在前两个的基础上查找下一个</td></tr><tr><td>N</td><td>在前两个的基础上查找上一个</td></tr></tbody></table></li><li><p>替换([查看键盘图](http://w -sog.xyz:8180/2022/05/25/91cab7cf54015.gif))</p><table><thead><tr><th>操作</th><th>说明</th></tr></thead><tbody><tr><td>r</td><td>对光标所在字符替换</td></tr><tr><td>R</td><td>对光标所在字符之后替换，直到按下Esc键结束</td></tr><tr><td>cw</td><td>删除光标后的单词，并进入插入模式</td></tr><tr><td>cc/S/C</td><td>删除当前行，并进入插入模式，详情查看键盘图</td></tr><tr><td>:s/word1/word2</td><td>将全文word1替换成word2</td></tr><tr><td>cf(ch)</td><td>c和f的组合，光标所在字符向后查找至ch删除之间内容并进入插入模式</td></tr><tr><td>:1,$ s/word1/word2</td><td>将全文每行<strong>第一个</strong>word1替换成word2</td></tr><tr><td>:1,$ s/word1/word2/g</td><td>将全文所有word1替换成word2</td></tr></tbody></table></li></ol><h4 id=6-文本复制剪切和粘贴>6. 文本复制、剪切和粘贴<a hidden class=anchor aria-hidden=true href=#6-文本复制剪切和粘贴>#</a></h4><table><thead><tr><th>操作</th><th>说明</th></tr></thead><tbody><tr><td>yl</td><td>复制光标所在字符，前面可接数字表多个</td></tr><tr><td>x/dl</td><td>剪切光标所在字符，前面可接数字表多个　　注：X剪切前一个字符</td></tr><tr><td>yw/dw</td><td>复制/剪切光标后的一个单词，前面可加数字表多个</td></tr><tr><td>yy/dd</td><td>复制/剪切光标所在行，前面可加数字表向后多行</td></tr><tr><td>:2 copy/move 15</td><td>复制/剪切第二行内容到第十五行之后</td></tr><tr><td>:1,6 copy/move 15</td><td>复制/剪切第一行到第六行内容到第十五行之后</td></tr><tr><td>p</td><td>粘贴到光标下一行</td></tr><tr><td>P</td><td>粘贴到光标上一行</td></tr></tbody></table><h4 id=7-重复与撤销>7. 重复与撤销<a hidden class=anchor aria-hidden=true href=#7-重复与撤销>#</a></h4><table><thead><tr><th>操作</th><th>说明</th></tr></thead><tbody><tr><td>.</td><td>重复执行上一条指令</td></tr><tr><td>u</td><td>撤销上一个操作</td></tr><tr><td>U</td><td>撤销在当前行上的所有修改</td></tr></tbody></table><h4 id=8-更改vim编辑器设置>8. 更改vim编辑器设置<a hidden class=anchor aria-hidden=true href=#8-更改vim编辑器设置>#</a></h4><table><thead><tr><th>操作</th><th>说明</th></tr></thead><tbody><tr><td>:set [no]nu/number</td><td>[不]显示行号</td></tr><tr><td>:set [no]ai/autoindent</td><td>[不]设置自动缩进</td></tr><tr><td>:set showmode/noshowmode</td><td>显示/关闭当前编辑状态</td></tr><tr><td>:set [no]ic/ignorecase</td><td>搜索时[不]忽略大小写</td></tr><tr><td>:set list/nolist</td><td>显示/隐藏特殊字符</td></tr><tr><td>:set [no]sm/showmath</td><td>[不]开启特殊字符匹配，如括号</td></tr><tr><td>:set wm/wrapmargin=n</td><td>设置输入长文本距离右边界多少时换行</td></tr><tr><td>:set all</td><td>查看所有设置值</td></tr></tbody></table><p><strong>编辑器的默认配置文件：在当前用户主目录(~)下创建一个.vimrc文件进行配置</strong><br><strong>neovim 使用sudo保存文件：<code>:w !sed '1i password' | sudo -S tee % >/dev/null</code></strong></p><h2 id=13-shell编程教程httpswwwrunoobcomlinuxlinux-shellhtmlshell字符串httpsblogcsdnnetdongwumingarticledetails50605911>13. Shell编程(<a href=https://www.runoob.com/linux/linux-shell.html>教程</a>,<a href=https://blog.csdn.net/dongwuming/article/details/50605911>shell字符串</a>)<a hidden class=anchor aria-hidden=true href=#13-shell编程教程httpswwwrunoobcomlinuxlinux-shellhtmlshell字符串httpsblogcsdnnetdongwumingarticledetails50605911>#</a></h2><h3 id=1-shell变量>1. Shell变量<a hidden class=anchor aria-hidden=true href=#1-shell变量>#</a></h3><h4 id=1-变量类别>1. 变量类别<a hidden class=anchor aria-hidden=true href=#1-变量类别>#</a></h4><ul><li><strong>本地变量(局部变量)</strong>：也称为用户自定义变量，是在当前shell环境，当前进程内有效的变量，一般在脚本或命令中定义</li><li><strong>环境变量</strong>：相当于全局变量，也称为<strong>系统变量</strong>。它与本地变量的差别在于它可以用于所有用户进程，和windows系统的环境变量类似</li><li><strong>预定义变量</strong>：也称<strong>shell变量</strong>，相当于C语言中主函数变量，执行脚本程序时就被认定且不再改变</li></ul><h4 id=2-常见预定义变量>2. 常见预定义变量<a hidden class=anchor aria-hidden=true href=#2-常见预定义变量>#</a></h4><table><thead><tr><th style=text-align:left>特殊变量名</th><th>说明</th></tr></thead><tbody><tr><td style=text-align:left>$#</td><td>存储shell程序中命令行参数的个数</td></tr><tr><td style=text-align:left>$?</td><td>存储shell中上一个程序执行的返回值(0表示命令执行成功，非0表示出错)</td></tr><tr><td style=text-align:left>$[1-n]</td><td>存储第[1-n]个命令行参数</td></tr><tr><td style=text-align:left>$0</td><td>存储shell程序自己的名称</td></tr><tr><td style=text-align:left>$*</td><td>存储shell脚本的所有参数(不包括$0)</td></tr><tr><td style=text-align:left>$$</td><td>存储shell脚本的进程号(pid)</td></tr></tbody></table><h4 id=3-read命令httpswwwrunoobcomlinuxlinux-comm-readhtml>3. <a href=https://www.runoob.com/linux/linux-comm-read.html>read命令</a><a hidden class=anchor aria-hidden=true href=#3-read命令httpswwwrunoobcomlinuxlinux-comm-readhtml>#</a></h4><p>语法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>read</span> <span class=o>[</span>-ers<span class=o>]</span> <span class=o>[</span>-a aname<span class=o>]</span> <span class=o>[</span>-d delim<span class=o>]</span> <span class=o>[</span>-i text<span class=o>]</span> <span class=o>[</span>-n nchars<span class=o>]</span> <span class=o>[</span>-N nchars<span class=o>]</span> <span class=o>[</span>-p prompt<span class=o>]</span> <span class=o>[</span>-t timeout<span class=o>]</span> <span class=o>[</span>-u fd<span class=o>]</span> <span class=o>[</span>name ...<span class=o>]</span>
</span></span></code></pre></div><ul><li>-a 后跟一个变量，该变量会被认为是个数组，然后给其赋值，默认是以空格为分割符。</li><li>-d 后面跟一个标志符，其实只有其后的第一个字符有用，作为结束的标志。</li><li>-p 后面跟提示信息，即在输入前打印提示信息。</li><li>-e 在输入的时候可以使用命令补全功能。</li><li>-n 后跟一个数字，定义输入文本的长度，很实用。</li><li>-r 屏蔽\，如果没有该选项，则\作为一个转义字符，有的话 \就是个正常的字符了。</li><li>-s 安静模式，在输入字符时不再屏幕上显示，例如login时输入密码。</li><li>-t 后面跟秒数，定义输入字符的等待时间。</li><li>-u 后面跟fd，从文件描述符中读入，该文件描述符可以是exec新开启的。</li></ul><h3 id=2-选择结构>2. 选择结构<a hidden class=anchor aria-hidden=true href=#2-选择结构>#</a></h3><h4 id=1-条件判断式test>1. 条件判断式：<code>test</code><a hidden class=anchor aria-hidden=true href=#1-条件判断式test>#</a></h4><ol><li><p>文件存在性测试：</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-e</td><td>文件是否存在</td></tr><tr><td>-f</td><td>文件是否存在且为文件(file)</td></tr><tr><td>-d</td><td>文件是否存在且为目录(directory)</td></tr><tr><td>-b</td><td>文件是否存在且为一个block device文件</td></tr><tr><td>-c</td><td>文件是否存在且为一个character device文件</td></tr><tr><td>-S</td><td>文件是否存在且为一个Socket文件</td></tr><tr><td>-p</td><td>文件是否存在且为一个FIFO(pipe)文件</td></tr><tr><td>-L</td><td>文件是否存在且为一个链接文件</td></tr></tbody></table><p>例：<code>test -e file</code></p><blockquote><p>若当前目录下存在文件file，返回值为真，否则为假</p></blockquote></li><li><p>文件的权限测试：</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-r</td><td>检测该文件是否存在且具有<strong>可读</strong>的权限</td></tr><tr><td>-w</td><td>检测文件是否存在且具有<strong>可写</strong>的权限</td></tr><tr><td>-x</td><td>检测文件是否存在且具有<strong>可运行</strong>的权限</td></tr><tr><td>-u</td><td>检测文件是否存在且具有<strong>SUID</strong>的属性</td></tr><tr><td>-g</td><td>检测文件是否存在且具有<strong>SGID</strong>的属性</td></tr><tr><td>-k</td><td>检测文件是右存在且具有<strong>Sticky bit</strong>的属性</td></tr><tr><td>-s</td><td>检测文件是否存在且为<strong>非空白文件</strong></td></tr></tbody></table><p>例：<code>test -r file</code></p><pre><code> 若当前目录下文件file可读，返回值为真，否则为假
</code></pre></li><li><p>文件的新旧测试：</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-nt</td><td>判断两个文件到底哪一个文件要新</td></tr><tr><td>-ot</td><td>判断两个文件哪个文件要旧</td></tr><tr><td>-ef</td><td>判断两个文件是否为同一文件， 可用于判断硬链接文件</td></tr></tbody></table></li><li><p>数值大小测试：</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-eq</td><td>测试两数值是否相等(equal)</td></tr><tr><td>-ne</td><td>测试两数值是否不等(not equal)</td></tr><tr><td>-gt</td><td>测试前一个数值n1是否大于后一个数值n2(greater than)</td></tr><tr><td>-lt</td><td>测试n1是否小于n2(less than)</td></tr><tr><td>-ge</td><td>测试n1是否大于等于n2(greater than or equal)</td></tr><tr><td>-le</td><td>测试n1是否小于等于n2(less than or equal)</td></tr></tbody></table><p>例：<code>test n1 -eq n2</code><br>若数值n1与n2相等，返回值为真，否则为假</p></li><li><p>字符串测试</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-z</td><td>用于测试字符串长度是否为0，若字符串为空，则返回true</td></tr><tr><td>-n</td><td>用于测试字符串长度是否为非0，若字符串为非空，则返回true</td></tr><tr><td>=</td><td>用于判断两个字符串是否相等，苦相等则返回true</td></tr><tr><td>!=</td><td>用于判断两个字符串是否不相等，若不相等，则返回true</td></tr></tbody></table><p>例：</p><ul><li><code>test -z string</code>: 测试string是否为空</li><li><code>test str1 = str2</code>: 测试str1与str2是否相等<br><strong>注：&rsquo; = &lsquo;与 &rsquo; != &lsquo;两边要加空格</strong></li></ul></li><li><p>多重条件判定</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-a</td><td>两种情况同时成立时才回传true(and)</td></tr><tr><td>-o</td><td>两种情况任何一个成立就可回传true(or)</td></tr><tr><td>!</td><td>状态取反</td></tr></tbody></table><p>例：</p><ul><li><code>test -r file -a -x file</code>: 表示file同时具有r与x权限时才回传true</li><li><code>test ! -x file</code>: 表示file不具有x权限时，回传true</li></ul></li></ol><p>综合例：<br>使用者输入一个文件名，程序判断：</p><ul><li>这个文件是否存在，左路不存在则给予一个<strong>Filename does not exist</strong>的信息，并中断程序</li><li>若这个文件存在，则判断它是文件还是目录，结果输出<strong>Filename is regular file</strong>或<strong>Filename is directory</strong></li><li>判断当前用户对这个设施或目录所拥有的权限，并输出权限信息</li></ul><p>程序：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>:&lt;&lt;!
</span></span><span class=line><span class=cl>让使用者输入文件名，并且判断使用者是否真的有输入字符串
</span></span><span class=line><span class=cl>!
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;Please input a filename, I will check the filename&#39;s type and permission. \n\n&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>read</span> -p <span class=s2>&#34;Input a filename : &#34;</span> filename
</span></span><span class=line><span class=cl><span class=nb>test</span> -z <span class=nv>$filename</span> <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;You MUST input a filename.&#34;</span> <span class=o>&amp;&amp;</span> <span class=nb>exit</span> <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=c1># 判断文件是否存在？若不存在则显示信息并结束脚本</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> ! -e <span class=nv>$filename</span> <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;The filename &#39;</span><span class=nv>$filename</span><span class=s2>&#39; DO NOT exist&#34;</span> <span class=o>&amp;&amp;</span> <span class=nb>exit</span> <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=c1># 开始判断文件类型与属性</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> -f <span class=nv>$filename</span> <span class=o>&amp;&amp;</span> <span class=nv>filetype</span><span class=o>=</span><span class=s2>&#34;regulare file&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> -d <span class=nv>$filename</span> <span class=o>&amp;&amp;</span> <span class=nv>filetype</span><span class=o>=</span><span class=s2>&#34;directory&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> -r <span class=nv>$filename</span> <span class=o>&amp;&amp;</span> <span class=nv>perm</span><span class=o>=</span><span class=s2>&#34;readable&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> -w <span class=nv>$filename</span> <span class=o>&amp;&amp;</span> <span class=nv>perm</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$perm</span><span class=s2> writable&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> -x <span class=nv>$filename</span> <span class=o>&amp;&amp;</span> <span class=nv>perm</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$perm</span><span class=s2> executable&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># 开始输入</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;The filename: </span><span class=nv>$filename</span><span class=s2> is a </span><span class=nv>$filetype</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;And the permissions are : </span><span class=nv>$perm</span><span class=s2>&#34;</span>
</span></span></code></pre></div><h4 id=2-条件判断符>2. 条件判断符：[]<a hidden class=anchor aria-hidden=true href=#2-条件判断符>#</a></h4><p>说明：</p><ul><li>能实现和test命令一样的功能</li><li>为了与通配符区分，各元素间均有空格</li></ul><p>例：<br><code>[ 1 -eq 2 ]</code>: 判断1与2是否相等(<strong>注意[,]与内容间有空格</strong>)</p><h4 id=3-if-else>3. if-else<a hidden class=anchor aria-hidden=true href=#3-if-else>#</a></h4><p>用法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> 条件判断式1 <span class=o>]</span><span class=p>;</span> <span class=k>then</span>        <span class=c1># 可以把then写在下一行，就不用写;</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl><span class=k>elif</span>  <span class=o>[</span> 条件判断式2 <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    语句3
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></div><p>例：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>num1</span><span class=o>=</span><span class=m>100</span>    <span class=c1># 等号两边不能有空格</span>
</span></span><span class=line><span class=cl><span class=nv>num2</span><span class=o>=</span><span class=m>100</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$num1</span> -eq <span class=nv>$num2</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s1>&#39;两个数相等！&#39;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s1>&#39;两个数不相等！&#39;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></div><h4 id=4-case>4. case<a hidden class=anchor aria-hidden=true href=#4-case>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>case</span>  &lt;变量&gt;  in
</span></span><span class=line><span class=cl>       &lt;字符串1&gt; <span class=o>)</span>  <span class=o>{</span>&lt;命令清单1&gt;<span class=o>}</span><span class=p>;;</span>    
</span></span><span class=line><span class=cl>           ...
</span></span><span class=line><span class=cl>    &lt;字符串n&gt; <span class=o>)</span>  <span class=o>{</span>&lt;命令清单n&gt;<span class=o>}</span><span class=p>;;</span>
</span></span><span class=line><span class=cl>    *<span class=o>)</span>    <span class=o>{</span>其他命令<span class=o>}</span><span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span></code></pre></div><p>例：写一个shell脚本命名为capital，要求运行程序时输入国家名字，程序能输出这个国家的首都</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>case</span> <span class=nv>$1</span> in
</span></span><span class=line><span class=cl>  China<span class=o>)</span>   <span class=nb>echo</span> Beijing<span class=p>;;</span>    <span class=c1># 注意是两个;相当于break</span>
</span></span><span class=line><span class=cl>  USA<span class=o>)</span>      <span class=nb>echo</span> Washington<span class=p>;;</span>
</span></span><span class=line><span class=cl>  British<span class=o>)</span>  <span class=nb>echo</span> London<span class=p>;;</span>
</span></span><span class=line><span class=cl>  Russia<span class=o>)</span>   <span class=nb>echo</span> Moskow<span class=p>;;</span>
</span></span><span class=line><span class=cl>  *<span class=o>)</span><span class=nb>echo</span> Out of my knowledge<span class=p>;;</span> 
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span></code></pre></div><h3 id=3-循环结构>3. 循环结构<a hidden class=anchor aria-hidden=true href=#3-循环结构>#</a></h3><h4 id=1-for循环语句>1. for循环语句<a hidden class=anchor aria-hidden=true href=#1-for循环语句>#</a></h4><ul><li><p>语法一：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>for</span><span class=o>((</span>变量赋值<span class=p>;</span>条件判断<span class=p>;</span>变量迭代<span class=o>))</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    语句块
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><p>注意：for语句中一定要以do开始及以done结尾<br>例：编写一个for循环，输入0-4共5个数值</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1>#第一行表示用bash执行</span>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=o>((</span><span class=nv>i</span><span class=o>=</span>0<span class=p>;</span>i&lt;5<span class=p>;</span>i++<span class=o>))</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$i</span>, is a number
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div></li><li><p>语法二</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>for</span> var in item1 itme2 ... itemN
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    语句块
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><p>例1：编写一个for循环，变量的取值列表为：dog cat lion tiger，输出结果</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>for</span> animal in dog  cat  lion tiger
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> “There are <span class=si>${</span><span class=nv>animal</span><span class=si>}</span>s.”
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><p>例2：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>list</span><span class=o>=</span><span class=s2>&#34;beijing tianjing shanghai guangzhou&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>list</span><span class=o>=</span><span class=nv>$list</span><span class=s2>&#34;  xizang&#34;</span>
</span></span><span class=line><span class=cl><span class=k>for</span>  scenery  in  <span class=nv>$list</span>
</span></span><span class=line><span class=cl><span class=k>do</span> 
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> “Have you visited <span class=nv>$scenery</span>?”
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>:&lt;&lt;!
</span></span><span class=line><span class=cl>输出：
</span></span><span class=line><span class=cl>Have you visited beijing?
</span></span><span class=line><span class=cl>Have you visited tianjing?
</span></span><span class=line><span class=cl>Have you visited shanghai?
</span></span><span class=line><span class=cl>Have you visited guangzhou?
</span></span><span class=line><span class=cl>Have you visited xizang?
</span></span><span class=line><span class=cl>!
</span></span></code></pre></div><p>注：若列表对象中有空格，可以用"&ldquo;包含</p></li></ul><h4 id=2-while循环语句>2. while循环语句<a hidden class=anchor aria-hidden=true href=#2-while循环语句>#</a></h4><p>语法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>while</span> <span class=o>[</span>条件判断式<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    语句块
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><p>注：当条件判断式成立时，执行循环，while后面没有:<br>例：<br>当用户输入break或者BREAK才结束程序执行，否则就一直告知用户输入字符串，并将用户输入字符串输出</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>while</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$yn</span><span class=s2>&#34;</span> !<span class=o>=</span> “break<span class=s2>&#34; -a &#34;</span><span class=nv>$yn</span><span class=s2>&#34; != “BREAK&#34;</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>read</span> -p “Please input a string :  <span class=o>(</span>break/Break to stop<span class=o>)</span> <span class=s2>&#34; yn
</span></span></span><span class=line><span class=cl><span class=s2>    echo You input a string : </span><span class=nv>$yn</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>done
</span></span></span><span class=line><span class=cl><span class=s2>echo &#34;</span>OK! you interrupt the program.<span class=s2>&#34;
</span></span></span></code></pre></div><h2 id=14-文档编辑>14. 文档编辑<a hidden class=anchor aria-hidden=true href=#14-文档编辑>#</a></h2><h3 id=1-sed命令httpswwwrunoobcomlinuxlinux-comm-sedhtml其它教程httpswwwcnblogscomheziliangp15121513html>1. <a href=https://www.runoob.com/linux/linux-comm-sed.html>sed命令</a>(其它<a href=https://www.cnblogs.com/heziliang/p/15121513.html>教程</a>)<a hidden class=anchor aria-hidden=true href=#1-sed命令httpswwwrunoobcomlinuxlinux-comm-sedhtml其它教程httpswwwcnblogscomheziliangp15121513html>#</a></h3><p><a href=https://www.runoob.com/linux/linux-comm-sed.html>sed命令</a>(其它<a href=https://www.cnblogs.com/heziliang/p/15121513.html>教程</a>)<br>特点：</p><ul><li>从文件中读入一行数据并把它保存在临时缓冲区中</li><li>处理临时缓冲区的内容，并将处理结果发送到显示器上</li><li>逐行处理文件所有内容直到最后一行</li></ul><p>语法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sed <span class=o>[</span>-hnV<span class=o>][</span>-e&lt;script&gt;<span class=o>][</span>-f&lt;script文件&gt;<span class=o>][</span>文本文件<span class=o>]</span>
</span></span></code></pre></div><ul><li><p>选项</p><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>-n</td><td>仅显示script处理后的结果</td></tr><tr><td>-e&lt;script></td><td>以选项中指定的script来处理输入的文本文件(<strong>默认</strong>)</td></tr><tr><td>-f&lt;script文件></td><td>以选项中指定的script<strong>文件</strong>来处理输入的文本文件</td></tr><tr><td>-r/-E</td><td>sed使用扩展正则表达式</td></tr><tr><td>-i</td><td>直接修改文档读取的内容，不在屏幕上输出</td></tr></tbody></table></li><li><p>script</p><ul><li><p>地址定位：<br>例：</p><ul><li>将第三行的A替换为you：<code>sed '3s/A/you/g' file</code></li><li>将奇数行的A替换为you：<code>sed '1~2 s/A/you/g' file</code></li><li>将第1行(含)和第2行(含)之间的A替换为you：<code>sed '1,2s/A/you/g' file</code></li><li>将第1行和之后4行之间的A替换为you：<code>sed '1,+4s/A/you/g' file</code></li><li>将文件的A替换为you：<code>sed 's/A/you/g' file</code></li><li>和正则表达式搭配使用，将行首为#号的行中A替换为you：<code>sed '/^#/ s/A/you/g' file</code></li></ul></li><li><p>编辑命令：</p><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>a</td><td>在指定行后面追加文本；支持使用\n实现多行追加</td></tr><tr><td>i</td><td>在指定行前面插入文本</td></tr><tr><td>d</td><td>删除匹配的行</td></tr><tr><td>s</td><td>替换字符串</td></tr><tr><td>c</td><td>替换匹配行</td></tr></tbody></table><p>例：</p><ul><li>在文件file中第一行后加两行：<code>sed '1a aa\naa' file</code></li><li>删除第一行：<code>sed '1d' file</code></li><li>将第一行的A替换为you：<code>sed '1s/A/you/g' file</code></li><li>将第一行替换为hello,world: <code>sed '1c hello,world' file</code></li><li>将每一行后面加上.mp4并为每一行两端添加单引号：<code>sed "s/$/.mp4/;s/.*/'&'/" file</code></li></ul></li><li><p>正则表达式说明<br>sed中使用正则表达式使用**//**包涵，其中上例中<code>sed '3s/A/you/g' file</code>中<code>A</code>与<code>you</code>就是正则表达式，即先在匹配的行中找到&rsquo;A&rsquo;然后用&rsquo;you&rsquo;替换，例如：</p><p>​ 将第三行的A后面加上一个B：<code>sed '3s/A/&amp;B/g' file</code>或<code>sed '3s/\(A\)/\1B/g' file</code></p><p>说明</p><ul><li>其中对于&rsquo;&&lsquo;代表匹配结果，&lsquo;1&rsquo;代表匹配结果的第一个分组；</li><li>对于第二种写法，若不想对特殊符号转义&rsquo;\&lsquo;可以使用&rsquo;-r&rsquo;选项，然后改写为：<br><code>sed -r '3s/(A)/\1B/g' file</code></li></ul></li></ul></li></ul><h3 id=2-awk命令httpswwwrunoobcomlinuxlinux-comm-awkhtml>2. <a href=https://www.runoob.com/linux/linux-comm-awk.html>awk命令</a><a hidden class=anchor aria-hidden=true href=#2-awk命令httpswwwrunoobcomlinuxlinux-comm-awkhtml>#</a></h3><ul><li><p>命令语法：<br><code>awk 'BEGIN{ commands } pattern{ commands } END{ commands }' file</code></p></li><li><p>awk命令运行过程</p><ul><li>通过关键字BEGIN执行BEGIN后花括号{}后的内容</li></ul></li><li><p>pattern部分匹配成功后，依次对该行执行pattern后花括号后的内容，循环读取文件直到文件结束。</p><ul><li>开始 END 块执行，END 块可以输出最终结果。</li></ul></li><li><p>选项</p><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>-f file</td><td>从脚本文件中读取awk命令</td></tr><tr><td>-v var=value</td><td>赋值一个用户定义变量</td></tr><tr><td>-F fs</td><td>指定输入文件分隔符(改变变量FS的值)，fs是一个字符串或者正则表达式</td></tr></tbody></table></li><li><p>内建变量</p><table><thead><tr><th>变量</th><th>说明</th></tr></thead><tbody><tr><td>$n</td><td>当前记录的第n个字段，字段间由FS分隔</td></tr><tr><td>$0</td><td>完整的输入记录</td></tr><tr><td>ARGC</td><td>命令行参数的数目</td></tr><tr><td>ARGIND</td><td>命令行中当前文件的位置(从0开始算)</td></tr><tr><td>ARGV</td><td>包含命令行参数的数组</td></tr><tr><td>CONVFMT</td><td>数字转换格式(默认值为%.6g)ENVIRON环境变量关联数组</td></tr><tr><td>ERRNO</td><td>最后一个系统错误的描述</td></tr><tr><td>FIELDWIDTHS</td><td>字段宽度列表(用空格键分隔)</td></tr><tr><td>FILENAME</td><td>当前文件名</td></tr><tr><td>FNR</td><td>各文件分别计数的行号</td></tr><tr><td>FS</td><td>字段分隔符(默认是任何空格)</td></tr><tr><td>IGNORECASE</td><td>如果为真，则进行忽略大小写的匹配</td></tr><tr><td>NF</td><td>一条记录的字段的数目</td></tr><tr><td>NR</td><td>已经读出的记录数，就是行号，从1开始</td></tr><tr><td>OFMT</td><td>数字的输出格式(默认值是%.6g)</td></tr><tr><td>OFS</td><td>输出字段分隔符，默认值与输入字段分隔符一致。</td></tr><tr><td>ORS</td><td>输出记录分隔符(默认值是一个换行符)</td></tr><tr><td>RLENGTH</td><td>由match函数所匹配的字符串的长度</td></tr><tr><td>RS</td><td>记录分隔符(默认是一个换行符)</td></tr><tr><td>RSTART</td><td>由match函数所匹配的字符串的第一个位置</td></tr><tr><td>SUBSEP</td><td>数组下标分隔符(默认值是/034)</td></tr></tbody></table></li><li><p>例：<br>Mike Harrington:[510] 548-1278:250:100:175<br>Christian Dobbins:[408] 538-2358:155:90:2<br>01Susan Dalsass:[206] 654-6279:250:60:50<br>Archie McNichol:[206] 548-1348:250:100:175<br>Jody Savage:[206] 548-1278:15:188:150<br>Guy Quigley:[916] 343-6410:250:100:175<br>Dan Savage:[406] 298-7744:450:300:275<br>Nancy McNeil:[206] 548-1278:250:80:75<br>John Goldenrod:[916] 348-4278:250:100:175<br>Chet Main:[510] 548-5258:50:95:135<br>Tom Savage:[408] 926-3456:250:168:200<br>Elizabeth Stachelin:[916] 440-1763:175:75:300</p><ul><li>显示所有电话号码：<code>awk -F: '{print $2}' awk_exercise</code></li><li>显示Susan的姓名和电话号码：<code>awk -F[:\ ] '$1=="Susan"{print $1,$2":"$3,$4}' awk_exercise</code></li><li>显示Mike的总捐款：<code>awk -F[:\ ] '$1=="Mike"{print $5+$6+$7}' awk_exercise</code></li><li>显示Savage的全名和电话号码：<code>awk -F: '$1~/Savage/{print $1":"$2}' awk_exercise</code></li></ul></li></ul><h2 id=15-shell快捷键httpswwwcnblogscomvweip15858145html>15. <a href=https://www.cnblogs.com/vwei/p/15858145.html>shell快捷键</a><a hidden class=anchor aria-hidden=true href=#15-shell快捷键httpswwwcnblogscomvweip15858145html>#</a></h2><h3 id=编辑命令>编辑命令<a hidden class=anchor aria-hidden=true href=#编辑命令>#</a></h3><ul><li>Ctrl + a ：移到命令行首</li><li>Ctrl + e ：移到命令行尾</li><li>Ctrl + f ：按字符前移（右向）</li><li>Ctrl + b ：按字符后移（左向）</li><li>Alt + f ：按单词前移（右向）</li><li>Alt + b ：按单词后移（左向）</li><li>Ctrl + xx：在命令行首和光标之间移动</li><li>Ctrl + u ：从光标处删除至命令行首</li><li>Ctrl + k ：从光标处删除至命令行尾</li><li>Ctrl + w ：从光标处删除至字首</li><li>Alt + d ：从光标处删除至字尾</li><li>Ctrl + d ：删除光标处的字符</li><li>Ctrl + h ：删除光标前的字符</li><li>Ctrl + y ：粘贴至光标后</li><li>Alt + c ：从光标处更改为首字母大写的单词</li><li>Alt + u ：从光标处更改为全部大写的单词</li><li>Alt + l ：从光标处更改为全部小写的单词</li><li>Ctrl + t ：交换光标处和之前的字符</li><li>Alt + t ：交换光标处和之前的单词</li><li>Alt + Backspace：与 Ctrl + w <del>相同</del>类似，分隔符有些差别</li></ul><h3 id=重新执行命令>重新执行命令<a hidden class=anchor aria-hidden=true href=#重新执行命令>#</a></h3><ul><li>Ctrl + r：逆向搜索命令历史</li><li>Ctrl + g：从历史搜索模式退出</li><li>Ctrl + p：历史中的上一条命令</li><li>Ctrl + n：历史中的下一条命令</li><li>Alt + .：使用上一条命令的最后一个参数</li></ul><h3 id=控制命令>控制命令<a hidden class=anchor aria-hidden=true href=#控制命令>#</a></h3><ul><li>Ctrl + l：清屏</li><li>Ctrl + o：执行当前命令，并选择上一条命令</li><li>Ctrl + s：阻止屏幕输出</li><li>Ctrl + q：允许屏幕输出</li><li>Ctrl + c：终止命令</li><li>Ctrl + z：挂起命令</li></ul><h3 id=bang--命令>Bang (!) 命令<a hidden class=anchor aria-hidden=true href=#bang--命令>#</a></h3><ul><li>!!：执行上一条命令</li><li>!blah：执行最近的以 blah 开头的命令，如 !ls</li><li>!blah:p：仅打印输出，而不执行</li><li>!$：上一条命令的最后一个参数，与 Alt + . 相同</li><li>!$:p：打印输出 !$ 的内容</li><li>!*：上一条命令的所有参数</li><li>!<em>:p：打印输出 !</em> 的内容</li><li>^blah：删除上一条命令中的 blah</li><li>^blah^foo：将上一条命令中的 blah 替换为 foo</li><li>^blah^foo^：将上一条命令中所有的 blah 都替换为 foo</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://yysog.com/tags/linux/>Linux</a></li></ul><nav class=paginav><a class=prev href=http://yysog.com/posts/linux%E7%BD%91%E6%A1%A5%E9%85%8D%E7%BD%AE/><span class=title>« 上一页</span><br><span>linux通过网桥将多网口主机当交换机</span>
</a><a class=next href=http://yysog.com/posts/hugo+nginx%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2/><span class=title>下一页 »</span><br><span>hugo+Nginx本地部署</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://yysog.com/>yysog's blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>